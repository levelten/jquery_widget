(function(){var f=this,D=f._,x={},H=Array.prototype,u=Object.prototype,m=H.slice,z=H.unshift,v=u.toString,I=u.hasOwnProperty,M=H.forEach,A=H.map,J=H.reduce,R=H.reduceRight,j=H.filter,w=H.every,N=H.some,O=H.indexOf,ca=H.lastIndexOf;u=Array.isArray;var da=Object.keys,y=function(h){return new s(h)};if(typeof module!=="undefined"&&module.exports){module.exports=y;y._=y}else f._=y;y.VERSION="1.1.4";var ha=y.each=y.forEach=function(h,n,r){if(h!=null)if(M&&h.forEach===M)h.forEach(n,r);else if(y.isNumber(h.length))for(var C=
0,P=h.length;C<P;C++){if(n.call(r,h[C],C,h)===x)break}else for(C in h)if(I.call(h,C))if(n.call(r,h[C],C,h)===x)break};y.map=function(h,n,r){var C=[];if(h==null)return C;if(A&&h.map===A)return h.map(n,r);ha(h,function(P,S,X){C[C.length]=n.call(r,P,S,X)});return C};y.reduce=y.foldl=y.inject=function(h,n,r,C){var P=r!==void 0;if(h==null)h=[];if(J&&h.reduce===J){if(C)n=y.bind(n,C);return P?h.reduce(n,r):h.reduce(n)}ha(h,function(S,X,la){if(!P&&X===0){r=S;P=true}else r=n.call(C,r,S,X,la)});if(!P)throw new TypeError("Reduce of empty array with no initial value");
return r};y.reduceRight=y.foldr=function(h,n,r,C){if(h==null)h=[];if(R&&h.reduceRight===R){if(C)n=y.bind(n,C);return r!==void 0?h.reduceRight(n,r):h.reduceRight(n)}h=(y.isArray(h)?h.slice():y.toArray(h)).reverse();return y.reduce(h,n,r,C)};y.find=y.detect=function(h,n,r){var C;ja(h,function(P,S,X){if(n.call(r,P,S,X)){C=P;return true}});return C};y.filter=y.select=function(h,n,r){var C=[];if(h==null)return C;if(j&&h.filter===j)return h.filter(n,r);ha(h,function(P,S,X){if(n.call(r,P,S,X))C[C.length]=
P});return C};y.reject=function(h,n,r){var C=[];if(h==null)return C;ha(h,function(P,S,X){n.call(r,P,S,X)||(C[C.length]=P)});return C};y.every=y.all=function(h,n,r){n=n||y.identity;var C=true;if(h==null)return C;if(w&&h.every===w)return h.every(n,r);ha(h,function(P,S,X){if(!(C=C&&n.call(r,P,S,X)))return x});return C};var ja=y.some=y.any=function(h,n,r){n=n||y.identity;var C=false;if(h==null)return C;if(N&&h.some===N)return h.some(n,r);ha(h,function(P,S,X){if(C=n.call(r,P,S,X))return x});return C};
y.include=y.contains=function(h,n){var r=false;if(h==null)return r;if(O&&h.indexOf===O)return h.indexOf(n)!=-1;ja(h,function(C){if(r=C===n)return true});return r};y.invoke=function(h,n){var r=m.call(arguments,2);return y.map(h,function(C){return(n?C[n]:C).apply(C,r)})};y.pluck=function(h,n){return y.map(h,function(r){return r[n]})};y.max=function(h,n,r){if(!n&&y.isArray(h))return Math.max.apply(Math,h);var C={computed:-Infinity};ha(h,function(P,S,X){S=n?n.call(r,P,S,X):P;S>=C.computed&&(C={value:P,
computed:S})});return C.value};y.min=function(h,n,r){if(!n&&y.isArray(h))return Math.min.apply(Math,h);var C={computed:Infinity};ha(h,function(P,S,X){S=n?n.call(r,P,S,X):P;S<C.computed&&(C={value:P,computed:S})});return C.value};y.sortBy=function(h,n,r){return y.pluck(y.map(h,function(C,P,S){return{value:C,criteria:n.call(r,C,P,S)}}).sort(function(C,P){var S=C.criteria,X=P.criteria;return S<X?-1:S>X?1:0}),"value")};y.sortedIndex=function(h,n,r){r=r||y.identity;for(var C=0,P=h.length;C<P;){var S=C+
P>>1;r(h[S])<r(n)?C=S+1:P=S}return C};y.toArray=function(h){if(!h)return[];if(h.toArray)return h.toArray();if(y.isArray(h))return h;if(y.isArguments(h))return m.call(h);return y.values(h)};y.size=function(h){return y.toArray(h).length};y.first=y.head=function(h,n,r){return n&&!r?m.call(h,0,n):h[0]};y.rest=y.tail=function(h,n,r){return m.call(h,y.isUndefined(n)||r?1:n)};y.last=function(h){return h[h.length-1]};y.compact=function(h){return y.filter(h,function(n){return!!n})};y.flatten=function(h){return y.reduce(h,
function(n,r){if(y.isArray(r))return n.concat(y.flatten(r));n[n.length]=r;return n},[])};y.without=function(h){var n=m.call(arguments,1);return y.filter(h,function(r){return!y.include(n,r)})};y.uniq=y.unique=function(h,n){return y.reduce(h,function(r,C,P){if(0==P||(n===true?y.last(r)!=C:!y.include(r,C)))r[r.length]=C;return r},[])};y.intersect=function(h){var n=m.call(arguments,1);return y.filter(y.uniq(h),function(r){return y.every(n,function(C){return y.indexOf(C,r)>=0})})};y.zip=function(){for(var h=
m.call(arguments),n=y.max(y.pluck(h,"length")),r=Array(n),C=0;C<n;C++)r[C]=y.pluck(h,""+C);return r};y.indexOf=function(h,n,r){if(h==null)return-1;if(r){r=y.sortedIndex(h,n);return h[r]===n?r:-1}if(O&&h.indexOf===O)return h.indexOf(n);r=0;for(var C=h.length;r<C;r++)if(h[r]===n)return r;return-1};y.lastIndexOf=function(h,n){if(h==null)return-1;if(ca&&h.lastIndexOf===ca)return h.lastIndexOf(n);for(var r=h.length;r--;)if(h[r]===n)return r;return-1};y.range=function(h,n,r){var C=m.call(arguments),P=C.length<=
1;h=P?0:C[0];n=P?C[0]:C[1];r=C[2]||1;C=Math.max(Math.ceil((n-h)/r),0);P=0;for(var S=Array(C);P<C;){S[P++]=h;h+=r}return S};y.bind=function(h,n){var r=m.call(arguments,2);return function(){return h.apply(n||{},r.concat(m.call(arguments)))}};y.bindAll=function(h){var n=m.call(arguments,1);if(n.length==0)n=y.functions(h);ha(n,function(r){h[r]=y.bind(h[r],h)});return h};y.memoize=function(h,n){var r={};n=n||y.identity;return function(){var C=n.apply(this,arguments);return C in r?r[C]:r[C]=h.apply(this,
arguments)}};y.delay=function(h,n){var r=m.call(arguments,2);return setTimeout(function(){return h.apply(h,r)},n)};y.defer=function(h){return y.delay.apply(y,[h,1].concat(m.call(arguments,1)))};var B=function(h,n,r){var C;return function(){var P=this,S=arguments,X=function(){C=null;h.apply(P,S)};r&&clearTimeout(C);if(r||!C)C=setTimeout(X,n)}};y.throttle=function(h,n){return B(h,n,false)};y.debounce=function(h,n){return B(h,n,true)};y.wrap=function(h,n){return function(){var r=[h].concat(m.call(arguments));
return n.apply(this,r)}};y.compose=function(){var h=m.call(arguments);return function(){for(var n=m.call(arguments),r=h.length-1;r>=0;r--)n=[h[r].apply(this,n)];return n[0]}};y.keys=da||function(h){if(y.isArray(h))return y.range(0,h.length);var n=[],r;for(r in h)if(I.call(h,r))n[n.length]=r;return n};y.values=function(h){return y.map(h,y.identity)};y.functions=y.methods=function(h){return y.filter(y.keys(h),function(n){return y.isFunction(h[n])}).sort()};y.extend=function(h){ha(m.call(arguments,1),
function(n){for(var r in n)h[r]=n[r]});return h};y.clone=function(h){return y.isArray(h)?h.slice():y.extend({},h)};y.tap=function(h,n){n(h);return h};y.isEqual=function(h,n){if(h===n)return true;var r=typeof h;if(r!=typeof n)return false;if(h==n)return true;if(!h&&n||h&&!n)return false;if(h._chain)h=h._wrapped;if(n._chain)n=n._wrapped;if(h.isEqual)return h.isEqual(n);if(y.isDate(h)&&y.isDate(n))return h.getTime()===n.getTime();if(y.isNaN(h)&&y.isNaN(n))return false;if(y.isRegExp(h)&&y.isRegExp(n))return h.source===
n.source&&h.global===n.global&&h.ignoreCase===n.ignoreCase&&h.multiline===n.multiline;if(r!=="object")return false;if(h.length&&h.length!==n.length)return false;r=y.keys(h);var C=y.keys(n);if(r.length!=C.length)return false;for(var P in h)if(!(P in n)||!y.isEqual(h[P],n[P]))return false;return true};y.isEmpty=function(h){if(y.isArray(h)||y.isString(h))return h.length===0;for(var n in h)if(I.call(h,n))return false;return true};y.isElement=function(h){return!!(h&&h.nodeType==1)};y.isArray=u||function(h){return v.call(h)===
"[object Array]"};y.isArguments=function(h){return!!(h&&I.call(h,"callee"))};y.isFunction=function(h){return!!(h&&h.constructor&&h.call&&h.apply)};y.isString=function(h){return!!(h===""||h&&h.charCodeAt&&h.substr)};y.isNumber=function(h){return!!(h===0||h&&h.toExponential&&h.toFixed)};y.isNaN=function(h){return h!==h};y.isBoolean=function(h){return h===true||h===false};y.isDate=function(h){return!!(h&&h.getTimezoneOffset&&h.setUTCFullYear)};y.isRegExp=function(h){return!!(h&&h.test&&h.exec&&(h.ignoreCase||
h.ignoreCase===false))};y.isNull=function(h){return h===null};y.isUndefined=function(h){return h===void 0};y.noConflict=function(){f._=D;return this};y.identity=function(h){return h};y.times=function(h,n,r){for(var C=0;C<h;C++)n.call(r,C)};y.mixin=function(h){ha(y.functions(h),function(n){F(n,y[n]=h[n])})};var l=0;y.uniqueId=function(h){var n=l++;return h?h+n:n};y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};y.template=function(h,n){var r=y.templateSettings;r="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+
h.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(r.interpolate,function(C,P){return"',"+P.replace(/\\'/g,"'")+",'"}).replace(r.evaluate||null,function(C,P){return"');"+P.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";r=new Function("obj",r);return n?r(n):r};var s=function(h){this._wrapped=h};y.prototype=s.prototype;var E=function(h,n){return n?y(h).chain():h},F=function(h,n){s.prototype[h]=function(){var r=
m.call(arguments);z.call(r,this._wrapped);return E(n.apply(y,r),this._chain)}};y.mixin(y);ha(["pop","push","reverse","shift","sort","splice","unshift"],function(h){var n=H[h];s.prototype[h]=function(){n.apply(this._wrapped,arguments);return E(this._wrapped,this._chain)}});ha(["concat","join","slice"],function(h){var n=H[h];s.prototype[h]=function(){return E(n.apply(this._wrapped,arguments),this._chain)}});s.prototype.chain=function(){this._chain=true;return this};s.prototype.value=function(){return this._wrapped}})();(function(){var f;f=typeof exports!=="undefined"?exports:this.Backbone={};f.VERSION="0.3.3";var D=this._;if(!D&&typeof require!=="undefined")D=require("underscore")._;var x=this.jQuery||this.Zepto;f.emulateHTTP=false;f.emulateJSON=false;f.Events={bind:function(j,w){this._callbacks||(this._callbacks={});(this._callbacks[j]||(this._callbacks[j]=[])).push(w);return this},unbind:function(j,w){var N;if(j){if(N=this._callbacks)if(w){N=N[j];if(!N)return this;for(var O=0,ca=N.length;O<ca;O++)if(w===N[O]){N.splice(O,
1);break}}else N[j]=[]}else this._callbacks={};return this},trigger:function(j){var w,N,O,ca;if(!(N=this._callbacks))return this;if(w=N[j]){O=0;for(ca=w.length;O<ca;O++)w[O].apply(this,Array.prototype.slice.call(arguments,1))}if(w=N.all){O=0;for(ca=w.length;O<ca;O++)w[O].apply(this,arguments)}return this}};f.Model=function(j,w){j||(j={});if(this.defaults)j=D.extend({},this.defaults,j);this.attributes={};this._escapedAttributes={};this.cid=D.uniqueId("c");this.set(j,{silent:true});this._previousAttributes=
D.clone(this.attributes);if(w&&w.collection)this.collection=w.collection;this.initialize(j,w)};D.extend(f.Model.prototype,f.Events,{_previousAttributes:null,_changed:false,initialize:function(){},toJSON:function(){return D.clone(this.attributes)},get:function(j){return this.attributes[j]},escape:function(j){var w;if(w=this._escapedAttributes[j])return w;w=this.attributes[j];return this._escapedAttributes[j]=(w==null?"":w).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,
"&quot;")},set:function(j,w){w||(w={});if(!j)return this;if(j.attributes)j=j.attributes;var N=this.attributes,O=this._escapedAttributes;if(!w.silent&&this.validate&&!this._performValidation(j,w))return false;if("id"in j)this.id=j.id;for(var ca in j){var da=j[ca];if(!D.isEqual(N[ca],da)){N[ca]=da;delete O[ca];if(!w.silent){this._changed=true;this.trigger("change:"+ca,this,da,w)}}}!w.silent&&this._changed&&this.change(w);return this},unset:function(j,w){w||(w={});var N={};N[j]=void 0;if(!w.silent&&
this.validate&&!this._performValidation(N,w))return false;delete this.attributes[j];delete this._escapedAttributes[j];if(!w.silent){this._changed=true;this.trigger("change:"+j,this,void 0,w);this.change(w)}return this},clear:function(j){j||(j={});var w=this.attributes,N={};for(attr in w)N[attr]=void 0;if(!j.silent&&this.validate&&!this._performValidation(N,j))return false;this.attributes={};this._escapedAttributes={};if(!j.silent){this._changed=true;for(attr in w)this.trigger("change:"+attr,this,
void 0,j);this.change(j)}return this},fetch:function(j){j||(j={});var w=this,N=R(j.error,w,j);(this.sync||f.sync)("read",this,function(O){if(!w.set(w.parse(O),j))return false;j.success&&j.success(w,O)},N);return this},save:function(j,w){w||(w={});if(j&&!this.set(j,w))return false;var N=this,O=R(w.error,N,w),ca=this.isNew()?"create":"update";(this.sync||f.sync)(ca,this,function(da){if(!N.set(N.parse(da),w))return false;w.success&&w.success(N,da)},O);return this},destroy:function(j){j||(j={});var w=
this,N=R(j.error,w,j);(this.sync||f.sync)("delete",this,function(O){w.collection&&w.collection.remove(w);j.success&&j.success(w,O)},N);return this},url:function(){var j=J(this.collection);if(this.isNew())return j;return j+(j.charAt(j.length-1)=="/"?"":"/")+this.id},parse:function(j){return j},clone:function(){return new this.constructor(this)},isNew:function(){return!this.id},change:function(j){this.trigger("change",this,j);this._previousAttributes=D.clone(this.attributes);this._changed=false},hasChanged:function(j){if(j)return this._previousAttributes[j]!=
this.attributes[j];return this._changed},changedAttributes:function(j){j||(j=this.attributes);var w=this._previousAttributes,N=false,O;for(O in j)if(!D.isEqual(w[O],j[O])){N=N||{};N[O]=j[O]}return N},previous:function(j){if(!j||!this._previousAttributes)return null;return this._previousAttributes[j]},previousAttributes:function(){return D.clone(this._previousAttributes)},_performValidation:function(j,w){var N=this.validate(j);if(N){w.error?w.error(this,N):this.trigger("error",this,N,w);return false}return true}});
f.Collection=function(j,w){w||(w={});if(w.comparator){this.comparator=w.comparator;delete w.comparator}this._boundOnModelEvent=D.bind(this._onModelEvent,this);this._reset();j&&this.refresh(j,{silent:true});this.initialize(j,w)};D.extend(f.Collection.prototype,f.Events,{model:f.Model,initialize:function(){},toJSON:function(){return this.map(function(j){return j.toJSON()})},add:function(j,w){if(D.isArray(j))for(var N=0,O=j.length;N<O;N++)this._add(j[N],w);else this._add(j,w);return this},remove:function(j,
w){if(D.isArray(j))for(var N=0,O=j.length;N<O;N++)this._remove(j[N],w);else this._remove(j,w);return this},get:function(j){if(j==null)return null;return this._byId[j.id!=null?j.id:j]},getByCid:function(j){return j&&this._byCid[j.cid||j]},at:function(j){return this.models[j]},sort:function(j){j||(j={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);j.silent||this.trigger("refresh",this,j);return this},pluck:function(j){return D.map(this.models,
function(w){return w.get(j)})},refresh:function(j,w){j||(j=[]);w||(w={});this._reset();this.add(j,{silent:true});w.silent||this.trigger("refresh",this,w);return this},fetch:function(j){j||(j={});var w=this,N=R(j.error,w,j);(this.sync||f.sync)("read",this,function(O){w.refresh(w.parse(O));j.success&&j.success(w,O)},N);return this},create:function(j,w){var N=this;w||(w={});if(j instanceof f.Model)j.collection=N;else j=new this.model(j,{collection:N});return j.save(null,{success:function(O,ca){N.add(O);
w.success&&w.success(O,ca)},error:w.error})},parse:function(j){return j},chain:function(){return D(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_add:function(j,w){w||(w={});j instanceof f.Model||(j=new this.model(j,{collection:this}));var N=this.getByCid(j);if(N)throw Error(["Can't add the same model to a set twice",N.id]);this._byId[j.id]=j;this._byCid[j.cid]=j;j.collection=this;this.models.splice(this.comparator?this.sortedIndex(j,this.comparator):
this.length,0,j);j.bind("all",this._boundOnModelEvent);this.length++;w.silent||j.trigger("add",j,this,w);return j},_remove:function(j,w){w||(w={});j=this.getByCid(j)||this.get(j);if(!j)return null;delete this._byId[j.id];delete this._byCid[j.cid];delete j.collection;this.models.splice(this.indexOf(j),1);this.length--;w.silent||j.trigger("remove",j,this,w);j.unbind("all",this._boundOnModelEvent);return j},_onModelEvent:function(j,w){if(j==="change:id"){delete this._byId[w.previous("id")];this._byId[w.id]=
w}this.trigger.apply(this,arguments)}});D.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","invoke","max","min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"],function(j){f.Collection.prototype[j]=function(){return D[j].apply(D,[this.models].concat(D.toArray(arguments)))}});f.Controller=function(j){j||(j={});if(j.routes)this.routes=j.routes;this._bindRoutes();
this.initialize(j)};var H=/:([\w\d]+)/g,u=/\*([\w\d]+)/g;D.extend(f.Controller.prototype,f.Events,{initialize:function(){},route:function(j,w,N){f.history||(f.history=new f.History);D.isRegExp(j)||(j=this._routeToRegExp(j));f.history.route(j,D.bind(function(O){O=this._extractParameters(j,O);N.apply(this,O);this.trigger.apply(this,["route:"+w].concat(O))},this))},saveLocation:function(j){f.history.saveLocation(j)},_bindRoutes:function(){if(this.routes)for(var j in this.routes){var w=this.routes[j];
this.route(j,w,this[w])}},_routeToRegExp:function(j){j=j.replace(H,"([^/]*)").replace(u,"(.*?)");return RegExp("^"+j+"$")},_extractParameters:function(j,w){return j.exec(w).slice(1)}});f.History=function(){this.handlers=[];this.fragment=this.getFragment();D.bindAll(this,"checkUrl")};var m=/^#*/;D.extend(f.History.prototype,{interval:50,getFragment:function(j){return(j||window.location).hash.replace(m,"")},start:function(){var j=document.documentMode;if(j=x.browser.msie&&(!j||j<=7))this.iframe=x('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;
"onhashchange"in window&&!j?x(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);return this.loadUrl()},route:function(j,w){this.handlers.push({route:j,callback:w})},checkUrl:function(){var j=this.getFragment();if(j==this.fragment&&this.iframe)j=this.getFragment(this.iframe.location);if(j==this.fragment||j==decodeURIComponent(this.fragment))return false;if(this.iframe)window.location.hash=this.iframe.location.hash=j;this.loadUrl()},loadUrl:function(){var j=this.fragment=
this.getFragment();return D.any(this.handlers,function(w){if(w.route.test(j)){w.callback(j);return true}})},saveLocation:function(j){j=(j||"").replace(m,"");if(this.fragment!=j){window.location.hash=this.fragment=j;if(this.iframe&&j!=this.getFragment(this.iframe.location)){this.iframe.document.open().close();this.iframe.location.hash=j}}}});f.View=function(j){this._configure(j||{});this._ensureElement();this.delegateEvents();this.initialize(j)};var z=/^(\w+)\s*(.*)$/;D.extend(f.View.prototype,f.Events,
{tagName:"div",$:function(j){return x(j,this.el)},initialize:function(){},render:function(){return this},remove:function(){x(this.el).remove();return this},make:function(j,w,N){j=document.createElement(j);w&&x(j).attr(w);N&&x(j).html(N);return j},delegateEvents:function(j){if(j||(j=this.events)){x(this.el).unbind();for(var w in j){var N=j[w],O=w.match(z),ca=O[1];O=O[2];N=D.bind(this[N],this);O===""?x(this.el).bind(ca,N):x(this.el).delegate(O,ca,N)}}},_configure:function(j){if(this.options)j=D.extend({},
this.options,j);if(j.model)this.model=j.model;if(j.collection)this.collection=j.collection;if(j.el)this.el=j.el;if(j.id)this.id=j.id;if(j.className)this.className=j.className;if(j.tagName)this.tagName=j.tagName;this.options=j},_ensureElement:function(){if(!this.el){var j={};if(this.id)j.id=this.id;if(this.className)j["class"]=this.className;this.el=this.make(this.tagName,j)}}});var v=function(j,w){var N=A(this,j,w);N.extend=v;return N};f.Model.extend=f.Collection.extend=f.Controller.extend=f.View.extend=
v;var I={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};f.sync=function(j,w,N,O){var ca=I[j];j=j==="create"||j==="update"?JSON.stringify(w.toJSON()):null;w={url:J(w),type:ca,contentType:"application/json",data:j,dataType:"json",processData:false,success:N,error:O};if(f.emulateJSON){w.contentType="application/x-www-form-urlencoded";w.processData=true;w.data=j?{model:j}:{}}if(f.emulateHTTP)if(ca==="PUT"||ca==="DELETE"){if(f.emulateJSON)w.data._method=ca;w.type="POST";w.beforeSend=function(da){da.setRequestHeader("X-HTTP-Method-Override",
ca)}}x.ajax(w)};var M=function(){},A=function(j,w,N){var O;O=w&&w.hasOwnProperty("constructor")?w.constructor:function(){return j.apply(this,arguments)};M.prototype=j.prototype;O.prototype=new M;w&&D.extend(O.prototype,w);N&&D.extend(O,N);O.prototype.constructor=O;O.__super__=j.prototype;return O},J=function(j){if(!(j&&j.url))throw Error("A 'url' property or function must be specified");return D.isFunction(j.url)?j.url():j.url},R=function(j,w,N){return function(O){j?j(w,O):w.trigger("error",w,O,N)}}})();window.debug=function(){function f(R){if(m&&(z||!H||!H.log))m.apply(D,R)}for(var D=this,x=Array.prototype.slice,H=D.console,u={},m,z,v=9,I=["error","warn","info","debug","log"],M="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),A=M.length,J=[];--A>=0;)(function(R){u[R]=function(){v!==0&&H&&H[R]&&H[R].apply(H,arguments)}})(M[A]);for(A=I.length;--A>=0;)(function(R,j){u[j]=function(){var w=x.call(arguments),N=[j].concat(w);
J.push(N);f(N);if(H&&(v>0?v>R:I.length+v<=R))H.firebug?H[j].apply(D,w):H[j]?H[j](w):H.log(w)}})(A,I[A]);u.setLevel=function(R){v=typeof R==="number"?R:9};u.setCallback=function(){var R=x.call(arguments),j=J.length,w=j;m=R.shift()||null;z=typeof R[0]==="boolean"?R.shift():false;for(w-=typeof R[0]==="number"?R.shift():j;w<j;)f(J[w++])};return u}();debug.trace=function(f,D){$("#"+D).text(f)};(function(f){function D(l,s,E,F){F={data:F||F===0||F===false?F:s?s.data:{},_wrap:s?s._wrap:null,tmpl:null,parent:s||null,nodes:[],calls:I,nest:M,wrap:A,html:J,update:R};l&&f.extend(F,l,{nodes:[],parent:s});if(E){F.tmpl=E;F._ctnt=F._ctnt||F.tmpl(f,F);F.key=++ha;(B.length?ca:O)[ha]=F}return F}function x(l,s,E){var F;E=E?f.map(E,function(h){return typeof h==="string"?l.key?h.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+w+'="'+l.key+'" $2'):h:x(h,l,h._ctnt)}):l;if(s)return E;E=E.join("");
E.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(h,n,r,C){F=f(r).get();v(F);if(n)F=H(n).concat(F);if(C)F=F.concat(H(C))});return F?F:H(E)}function H(l){var s=document.createElement("div");s.innerHTML=l;return f.makeArray(s.childNodes)}function u(l){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+f.trim(l).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(s,E,F,h,n,r,C){s=f.tmpl.tag[F];if(!s)throw"Unknown template tag: "+F;F=s._default||[];if(r&&!/\w$/.test(n)){n+=r;r=""}if(n){n=z(n);C=C?","+z(C)+")":r?")":"";C=r?n.indexOf(".")>-1?n+z(r):"("+n+").call($item"+C:n;r=r?C:"(typeof("+n+")==='function'?("+n+").call($item):("+n+"))"}else r=C=F.$1||"null";h=z(h);return"');"+s[E?"close":"open"].split("$notnull_1").join(n?"typeof("+n+")!=='undefined' && ("+n+")!=null":"true").split("$1a").join(r).split("$1").join(C).split("$2").join(h||F.$2||"")+"__.push('"})+
"');}return __;")}function m(l,s){l._wrap=x(l,true,f.isArray(s)?s:[N.test(s)?s:f(s).html()]).join("")}function z(l){return l?l.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function v(l){function s(S){function X(fa){fa+=E;ea=n[fa]=n[fa]||D(ea,O[ea.parent.key+E]||ea.parent)}var la,Y=S,ea,ma;if(ma=S.getAttribute(w)){for(;Y.parentNode&&(Y=Y.parentNode).nodeType===1&&!(la=Y.getAttribute(w)););if(la!==ma){Y=Y.parentNode?Y.nodeType===11?0:Y.getAttribute(w)||0:0;if(!(ea=O[ma])){ea=ca[ma];ea=D(ea,O[Y]||
ca[Y]);ea.key=++ha;O[ha]=ea}ja&&X(ma)}S.removeAttribute(w)}else if(ja&&(ea=f.data(S,"tmplItem"))){X(ea.key);O[ea.key]=ea;Y=(Y=f.data(S.parentNode,"tmplItem"))?Y.key:0}if(ea){for(la=ea;la&&la.key!=Y;){la.nodes.push(S);la=la.parent}delete ea._ctnt;delete ea._wrap;f.data(S,"tmplItem",ea)}}var E="_"+ja,F,h,n={},r,C,P;r=0;for(C=l.length;r<C;r++)if((F=l[r]).nodeType===1){h=F.getElementsByTagName("*");for(P=h.length-1;P>=0;P--)s(h[P]);s(F)}}function I(l,s,E,F){if(!l)return B.pop();B.push({_:l,tmpl:s,item:this,
data:E,options:F})}function M(l,s,E){return f.tmpl(f.template(l),s,E,this)}function A(l,s){var E=l.options||{};E.wrapped=s;return f.tmpl(f.template(l.tmpl),l.data,E,l.item)}function J(l,s){var E=this._wrap;return f.map(f(f.isArray(E)?E.join(""):E).filter(l||"*"),function(F){if(s)F=F.innerText||F.textContent;else{var h;if(!(h=F.outerHTML)){h=document.createElement("div");h.appendChild(F.cloneNode(true));h=h.innerHTML}F=h}return F})}function R(){var l=this.nodes;f.tmpl(null,null,null,this).insertBefore(l[0]);
f(l).remove()}var j=f.fn.domManip,w="_tmplitem",N=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,O={},ca={},da,y={key:0,data:{}},ha=0,ja=0,B=[];f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(l,s){f.fn[l]=function(E){var F=[];E=f(E);var h,n,r;h=this.length===1&&this[0].parentNode;da=O||{};if(h&&h.nodeType===11&&h.childNodes.length===1&&E.length===1){E[s](this[0]);F=this}else{n=0;for(r=E.length;n<r;n++){ja=n;h=(n>0?this.clone(true):this).get();
f(E[n])[s](h);F=F.concat(h)}ja=0;F=this.pushStack(F,l,E.selector)}E=da;da=null;f.tmpl.complete(E);return F}});f.fn.extend({tmpl:function(l,s,E){return f.tmpl(this[0],l,s,E)},tmplItem:function(){return f.tmplItem(this[0])},template:function(l){return f.template(l,this[0])},domManip:function(l,s,E){if(l[0]&&f.isArray(l[0])){for(var F=f.makeArray(arguments),h=l[0],n=h.length,r=0,C;r<n&&!(C=f.data(h[r++],"tmplItem")););if(C&&ja)F[2]=function(P){f.tmpl.afterManip(this,P,E)};j.apply(this,F)}else j.apply(this,
arguments);ja=0;da||f.tmpl.complete(O);return this}});f.extend({tmpl:function(l,s,E,F){var h=!F;if(h){F=y;l=f.template[l]||f.template(null,l);ca={}}else if(!l){l=F.tmpl;O[F.key]=F;F.nodes=[];F.wrapped&&m(F,F.wrapped);return f(x(F,null,F.tmpl(f,F)))}if(!l)return[];if(typeof s==="function")s=s.call(F||{});E&&E.wrapped&&m(E,E.wrapped);s=f.isArray(s)?f.map(s,function(n){return n?D(E,F,l,n):null}):[D(E,F,l,s)];return h?f(x(F,null,s)):s},tmplItem:function(l){var s;if(l instanceof f)l=l[0];for(;l&&l.nodeType===
1&&!(s=f.data(l,"tmplItem"))&&(l=l.parentNode););return s||y},template:function(l,s){if(s){if(typeof s==="string")s=u(s);else if(s instanceof f)s=s[0]||{};if(s.nodeType)s=f.data(s,"tmpl")||f.data(s,"tmpl",u(s.innerHTML));return typeof l==="string"?f.template[l]=s:s}return l?typeof l!=="string"?f.template(null,l):f.template[l]||f.template(null,N.test(l)?l:f(l)):null},encode:function(l){return(""+l).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});
f.extend(f.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},
"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){O={}},afterManip:function(l,s,E){var F=s.nodeType===11?f.makeArray(s.childNodes):s.nodeType===1?[s]:[];E.call(l,s);v(F);ja++}})})(jQuery);(function(f){function D(H){var u=H||window.event,m=[].slice.call(arguments,1),z=0,v=0,I=0;H=f.event.fix(u);H.type="mousewheel";if(H.wheelDelta)z=H.wheelDelta/120;if(H.detail)z=-H.detail/3;I=z;if(u.axis!==undefined&&u.axis===u.HORIZONTAL_AXIS){I=0;v=-1*z}if(u.wheelDeltaY!==undefined)I=u.wheelDeltaY/120;if(u.wheelDeltaX!==undefined)v=-1*u.wheelDeltaX/120;m.unshift(H,z,v,I);return f.event.handle.apply(this,m)}var x=["DOMMouseScroll","mousewheel"];f.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var H=
x.length;H;)this.addEventListener(x[--H],D,false);else this.onmousewheel=D},teardown:function(){if(this.removeEventListener)for(var H=x.length;H;)this.removeEventListener(x[--H],D,false);else this.onmousewheel=null}};f.fn.extend({mousewheel:function(H){return H?this.bind("mousewheel",H):this.trigger("mousewheel")},unmousewheel:function(H){return this.unbind("mousewheel",H)}})})(jQuery);(function(f){function D(){if(v){window.clearTimeout(I);v=false}}function x(){if(!v){v=true;I=window.setTimeout("doRightClick();",800)}}function H(A){var J="";if(!(A.touches.length>1)){switch(A.type){case "gesturestart":alert("gesturestart");A.preventDefault();break;case "touchstart":if(f(A.changedTouches[0].target).is("select"))return;J=A.changedTouches[0];var R="mouseover",j=document.createEvent("MouseEvent");j.initMouseEvent(R,true,true,window,1,J.screenX,J.screenY,J.clientX,J.clientY,false,false,
false,false,0,null);J.target.dispatchEvent(j);R="mousedown";j=document.createEvent("MouseEvent");j.initMouseEvent(R,true,true,window,1,J.screenX,J.screenY,J.clientX,J.clientY,false,false,false,false,0,null);J.target.dispatchEvent(j);if(m){window.clearTimeout(z);if(J.target==u){u=null;m=false;R="click";j=document.createEvent("MouseEvent");j.initMouseEvent(R,true,true,window,1,J.screenX,J.screenY,J.clientX,J.clientY,false,false,false,false,0,null);J.target.dispatchEvent(j);R="dblclick";j=document.createEvent("MouseEvent");
j.initMouseEvent(R,true,true,window,1,J.screenX,J.screenY,J.clientX,J.clientY,false,false,false,false,0,null);J.target.dispatchEvent(j)}else{u=J.target;m=true;z=window.setTimeout("cancelTap();",600);x(A)}}else{u=J.target;m=true;z=window.setTimeout("cancelTap();",600);x(A)}A.preventDefault();return false;case "touchmove":D();J="mousemove";A.preventDefault();break;case "touchend":if(M){M=false;A.preventDefault();return false}D();J="mouseup";break;default:return}A=A.changedTouches[0];R=document.createEvent("MouseEvent");
R.initMouseEvent(J,true,true,window,1,A.screenX,A.screenY,A.clientX,A.clientY,false,false,false,false,0,null);A.target.dispatchEvent(R);if(J=="mouseup"&&m&&A.target==u){R=document.createEvent("MouseEvent");R.initMouseEvent("click",true,true,window,1,A.screenX,A.screenY,A.clientX,A.clientY,false,false,false,false,0,null);A.target.dispatchEvent(R)}}}f.extend(f.support,{touch:typeof Touch=="object"});f.fn.addTouch=function(){f.support.touch&&this.each(function(A,J){J.addEventListener("touchstart",H,
false);J.addEventListener("touchmove",H,false);J.addEventListener("touchend",H,false);J.addEventListener("touchcancel",H,false)})};var u=null,m=false,z=null,v=false,I=null,M=false})(jQuery);(function(){function f(){if(f.is(arguments[0],S)){for(var a=arguments[0],b=Oa[O](f,a.splice(0,3+f.is(a[0],P))),c=b.set(),e=0,g=a[l];e<g;e++){var d=a[e]||{};v[A](d.type)&&c[Y](b[d.type]().attr(d))}return c}return Oa[O](f,arguments)}function D(){for(var a=[],b=0;b<32;b++)a[b]=(~~(E.random()*16))[X](16);a[12]=4;a[16]=(a[16]&3|8)[X](16);return"r-"+a[B]("")}function x(a,b,c){function e(){var g=Array[M].slice.call(arguments,0),d=g[B]("\u25ba"),k=e.cache=e.cache||{},o=e.count=e.count||[];if(k[A](d))return c?
c(k[d]):k[d];o[l]>=1E3&&delete k[o.shift()];o[Y](d);k[d]=a[O](b,g);return c?c(k[d]):k[d]}return e}function H(){return this.x+da+this.y}function u(a){return function(b,c,e,g){var d={back:a};f.is(e,"function")?g=e:d.rot=e;b&&b.constructor==ia&&(b=b.attrs.path);b&&(d.along=b);return this.animate(d,c,g)}}function m(a,b,c,e,g,d){function k(T,ba){var U,Q,W,ka;W=T;for(Q=0;Q<8;Q++){ka=((q*W+p)*W+o)*W-T;if(n(ka)<ba)return W;U=(3*q*W+2*p)*W+o;if(n(U)<1.0E-6)break;W-=ka/U}U=0;Q=1;W=T;if(W<U)return U;if(W>Q)return Q;
for(;U<Q;){ka=((q*W+p)*W+o)*W;if(n(ka-T)<ba)break;T>ka?U=W:Q=W;W=(Q-U)/2+U}return W}var o=3*b,p=3*(e-b)-o,q=1-o-p,G=3*c,K=3*(g-c)-G,L=1-G-K;return function(T,ba){var U=k(T,ba);return((L*U+K)*U+G)*U}(a,1/(200*d))}f.version="1.5.2";var z=/[, ]+/,v={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},I=/\{(\d+)\}/g,M="prototype",A="hasOwnProperty",J=document,R=window,j={was:Object[M][A].call(R,"Raphael"),is:R.Raphael},w=function(){this.customAttributes={}},N,O="apply",ca="createTouch"in J,da=" ",y=String,
ha="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(da),ja={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},B="join",l="length",s=y[M].toLowerCase,E=Math,F=E.max,h=E.min,n=E.abs,r=E.pow,C=E.PI,P="number",S="array",X="toString",la=Object[M][X],Y="push",ea=/^url\(['"]?([^\)]+?)['"]?\)$/i,ma=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
fa={NaN:1,Infinity:1,"-Infinity":1},sa=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Z=E.round,V=parseFloat,oa=parseInt,xa=y[M].toUpperCase,Fa={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt",
"stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},Pa={along:"along",blur:P,"clip-rect":"csv",cx:P,cy:P,fill:"colour","fill-opacity":P,"font-size":P,height:P,opacity:P,path:"path",r:P,rotation:"csv",rx:P,ry:P,scale:"csv",stroke:"colour","stroke-opacity":P,"stroke-width":P,translation:"csv",width:P,x:P,y:P},vb=/^(from|to|\d+%?)$/,Qa=/\s*,\s*/,wb={hs:1,rg:1},xb=/,?([achlmqrstvxz]),?/gi,
yb=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,zb=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,$a=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,Ab=function(a,b){return a.key-b.key};f.type=R.SVGAngle||J.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(f.type=="VML"){var ua=J.createElement("div");ua.innerHTML='<v:shape adj="1"/>';ua=ua.firstChild;ua.style.behavior="url(#default#VML)";if(!(ua&&typeof ua.adj=="object"))return f.type=null;ua=null}f.svg=
!(f.vml=f.type=="VML");w[M]=f[M];N=w[M];f._id=0;f._oid=0;f.fn={};f.is=function(a,b){b=s.call(b);if(b=="finite")return!fa[A](+a);return b=="null"&&a===null||b==typeof a||b=="object"&&a===Object(a)||b=="array"&&Array.isArray&&Array.isArray(a)||la.call(a).slice(8,-1).toLowerCase()==b};f.angle=function(a,b,c,e,g,d){if(g==null){a-=c;b-=e;if(!a&&!b)return 0;return((a<0)*180+E.atan(-b/-a)*180/C+360)%360}return f.angle(a,b,g,d)-f.angle(c,e,g,d)};f.rad=function(a){return a%360*C/180};f.deg=function(a){return a*
180/C%360};f.snapTo=function(a,b,c){c=f.is(c,"finite")?c:10;if(f.is(a,S))for(var e=a.length;e--;){if(n(a[e]-b)<=c)return a[e]}else{a=+a;e=b%a;if(e<c)return b-e;if(e>a-c)return b-e+a}return b};f.setWindow=function(a){R=a;J=R.document};var Ga=function(a){if(f.vml){var b=/^\s+|\s+$/g,c;try{var e=new ActiveXObject("htmlfile");e.write("<body>");e.close();c=e.body}catch(g){c=createPopup().document.body}var d=c.createTextRange();Ga=x(function(o){try{c.style.color=y(o).replace(b,"");var p=d.queryCommandValue("ForeColor");
return"#"+("000000"+((p&255)<<16|p&65280|(p&16711680)>>>16)[X](16)).slice(-6)}catch(q){return"none"}})}else{var k=J.createElement("i");k.title="Rapha\u00ebl Colour Picker";k.style.display="none";J.body.appendChild(k);Ga=x(function(o){k.style.color=o;return J.defaultView.getComputedStyle(k,"").getPropertyValue("color")})}return Ga(a)},ab=function(){return"hsb("+[this.h,this.s,this.b]+")"},Bb=function(){return"hsl("+[this.h,this.s,this.l]+")"},Cb=function(){return this.hex};f.hsb2rgb=function(a,b,c,
e){if(f.is(a,"object")&&"h"in a&&"s"in a&&"b"in a){c=a.b;b=a.s;a=a.h;e=a.o}return f.hsl2rgb(a,b,c/2,e)};f.hsl2rgb=function(a,b,c,e){if(f.is(a,"object")&&"h"in a&&"s"in a&&"l"in a){c=a.l;b=a.s;a=a.h}if(a>1||b>1||c>1){a/=360;b/=100;c/=100}var g={},d=["r","g","b"],k;if(b){c<0.5?k=c*(1+b):k=c+b-c*b;b=2*c-k;for(var o=0;o<3;o++){c=a+1/3*-(o-1);c<0&&c++;c>1&&c--;c*6<1?g[d[o]]=b+(k-b)*6*c:c*2<1?g[d[o]]=k:c*3<2?g[d[o]]=b+(k-b)*(2/3-c)*6:g[d[o]]=b}}else g={r:c,g:c,b:c};g.r*=255;g.g*=255;g.b*=255;g.hex="#"+
(16777216|g.b|g.g<<8|g.r<<16).toString(16).slice(1);f.is(e,"finite")&&(g.opacity=e);g.toString=Cb;return g};f.rgb2hsb=function(a,b,c){if(b==null&&f.is(a,"object")&&"r"in a&&"g"in a&&"b"in a){c=a.b;b=a.g;a=a.r}if(b==null&&f.is(a,"string")){c=f.getRGB(a);a=c.r;b=c.g;c=c.b}if(a>1||b>1||c>1){a/=255;b/=255;c/=255}var e=F(a,b,c),g=h(a,b,c),d;if(g==e)return{h:0,s:0,b:e,toString:ab};g=e-g;a==e?d=(b-c)/g:b==e?d=2+(c-a)/g:d=4+(a-b)/g;d/=6;d<0&&d++;d>1&&d--;return{h:d,s:g/e,b:e,toString:ab}};f.rgb2hsl=function(a,
b,c){if(b==null&&f.is(a,"object")&&"r"in a&&"g"in a&&"b"in a){c=a.b;b=a.g;a=a.r}if(b==null&&f.is(a,"string")){c=f.getRGB(a);a=c.r;b=c.g;c=c.b}if(a>1||b>1||c>1){a/=255;b/=255;c/=255}var e=F(a,b,c),g=h(a,b,c),d,k=(e+g)/2;if(g==e)a={h:0,s:0,l:k};else{var o=e-g;a==e?d=(b-c)/o:b==e?d=2+(c-a)/o:d=4+(a-b)/o;d/=6;d<0&&d++;d>1&&d--;a={h:d,s:k<0.5?o/(e+g):o/(2-e-g),l:k}}a.toString=Bb;return a};f._path2string=function(){return this.join(",").replace(xb,"$1")};f.getRGB=x(function(a){if(!a||(a=y(a)).indexOf("-")+
1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if(a=="none")return{r:-1,g:-1,b:-1,hex:"none"};!(wb[A](a.toLowerCase().substring(0,2))||a.charAt()=="#")&&(a=Ga(a));var b,c,e,g,d;if(a=a.match(ma)){if(a[2]){e=oa(a[2].substring(5),16);c=oa(a[2].substring(3,5),16);b=oa(a[2].substring(1,3),16)}if(a[3]){e=oa((d=a[3].charAt(3))+d,16);c=oa((d=a[3].charAt(2))+d,16);b=oa((d=a[3].charAt(1))+d,16)}if(a[4]){d=a[4].split(Qa);b=V(d[0]);d[0].slice(-1)=="%"&&(b*=2.55);c=V(d[1]);d[1].slice(-1)=="%"&&(c*=2.55);e=V(d[2]);
d[2].slice(-1)=="%"&&(e*=2.55);a[1].toLowerCase().slice(0,4)=="rgba"&&(g=V(d[3]));d[3]&&d[3].slice(-1)=="%"&&(g/=100)}if(a[5]){d=a[5].split(Qa);b=V(d[0]);d[0].slice(-1)=="%"&&(b*=2.55);c=V(d[1]);d[1].slice(-1)=="%"&&(c*=2.55);e=V(d[2]);d[2].slice(-1)=="%"&&(e*=2.55);(d[0].slice(-3)=="deg"||d[0].slice(-1)=="\u00b0")&&(b/=360);a[1].toLowerCase().slice(0,4)=="hsba"&&(g=V(d[3]));d[3]&&d[3].slice(-1)=="%"&&(g/=100);return f.hsb2rgb(b,c,e,g)}if(a[6]){d=a[6].split(Qa);b=V(d[0]);d[0].slice(-1)=="%"&&(b*=
2.55);c=V(d[1]);d[1].slice(-1)=="%"&&(c*=2.55);e=V(d[2]);d[2].slice(-1)=="%"&&(e*=2.55);(d[0].slice(-3)=="deg"||d[0].slice(-1)=="\u00b0")&&(b/=360);a[1].toLowerCase().slice(0,4)=="hsla"&&(g=V(d[3]));d[3]&&d[3].slice(-1)=="%"&&(g/=100);return f.hsl2rgb(b,c,e,g)}a={r:b,g:c,b:e};a.hex="#"+(16777216|e|c<<8|b<<16).toString(16).slice(1);f.is(g,"finite")&&(a.opacity=g);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1}},f);f.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75};
var b=this.hsb2rgb(a.h,a.s,a.b);a.h+=0.075;if(a.h>1){a.h=0;a.s-=0.2;a.s<=0&&(this.getColor.start={h:0,s:1,b:a.b})}return b.hex};f.getColor.reset=function(){delete this.start};f.parsePathString=x(function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[];f.is(a,S)&&f.is(a[0],S)&&(c=Ha(a));c[l]||y(a).replace(yb,function(e,g,d){var k=[];e=s.call(g);d.replace(zb,function(o,p){p&&k[Y](+p)});if(e=="m"&&k[l]>2){c[Y]([g].concat(k.splice(0,2)));e="l";g=g=="m"?"l":"L"}for(;k[l]>=b[e];){c[Y]([g].concat(k.splice(0,
b[e])));if(!b[e])break}});c[X]=f._path2string;return c});f.findDotsAtSegment=function(a,b,c,e,g,d,k,o,p){var q=1-p,G=r(q,3)*a+r(q,2)*3*p*c+q*3*p*p*g+r(p,3)*k;q=r(q,3)*b+r(q,2)*3*p*e+q*3*p*p*d+r(p,3)*o;var K=a+2*p*(c-a)+p*p*(g-2*c+a),L=b+2*p*(e-b)+p*p*(d-2*e+b),T=c+2*p*(g-c)+p*p*(k-2*g+c),ba=e+2*p*(d-e)+p*p*(o-2*d+e);a=(1-p)*a+p*c;b=(1-p)*b+p*e;g=(1-p)*g+p*k;d=(1-p)*d+p*o;o=90-E.atan((K-T)/(L-ba))*180/C;(K>T||L<ba)&&(o+=180);return{x:G,y:q,m:{x:K,y:L},n:{x:T,y:ba},start:{x:a,y:b},end:{x:g,y:d},alpha:o}};
var Ja=x(function(a){if(!a)return{x:0,y:0,width:0,height:0};a=Ia(a);for(var b=0,c=0,e=[],g=[],d,k=0,o=a[l];k<o;k++){d=a[k];if(d[0]=="M"){b=d[1];c=d[2];e[Y](b);g[Y](c)}else{b=Db(b,c,d[1],d[2],d[3],d[4],d[5],d[6]);e=e.concat(b.min.x,b.max.x);g=g.concat(b.min.y,b.max.y);b=d[5];c=d[6]}}a=h[O](0,e);d=h[O](0,g);return{x:a,y:d,width:F[O](0,e)-a,height:F[O](0,g)-d}}),Ha=function(a){var b=[];if(!f.is(a,S)||!f.is(a&&a[0],S))a=f.parsePathString(a);for(var c=0,e=a[l];c<e;c++){b[c]=[];for(var g=0,d=a[c][l];g<
d;g++)b[c][g]=a[c][g]}b[X]=f._path2string;return b},Ra=x(function(a){if(!f.is(a,S)||!f.is(a&&a[0],S))a=f.parsePathString(a);var b=[],c=0,e=0,g=0,d=0,k=0;if(a[0][0]=="M"){c=a[0][1];e=a[0][2];g=c;d=e;k++;b[Y](["M",c,e])}for(var o=a[l];k<o;k++){var p=b[k]=[],q=a[k];if(q[0]!=s.call(q[0])){p[0]=s.call(q[0]);switch(p[0]){case "a":p[1]=q[1];p[2]=q[2];p[3]=q[3];p[4]=q[4];p[5]=q[5];p[6]=+(q[6]-c).toFixed(3);p[7]=+(q[7]-e).toFixed(3);break;case "v":p[1]=+(q[1]-e).toFixed(3);break;case "m":g=q[1];d=q[2];default:for(var G=
1,K=q[l];G<K;G++)p[G]=+(q[G]-(G%2?c:e)).toFixed(3)}}else{b[k]=[];if(q[0]=="m"){g=q[1]+c;d=q[2]+e}p=0;for(G=q[l];p<G;p++)b[k][p]=q[p]}q=b[k][l];switch(b[k][0]){case "z":c=g;e=d;break;case "h":c+=+b[k][q-1];break;case "v":e+=+b[k][q-1];break;default:c+=+b[k][q-2];e+=+b[k][q-1]}}b[X]=f._path2string;return b},0,Ha),Ba=x(function(a){if(!f.is(a,S)||!f.is(a&&a[0],S))a=f.parsePathString(a);var b=[],c=0,e=0,g=0,d=0,k=0;if(a[0][0]=="M"){c=+a[0][1];e=+a[0][2];g=c;d=e;k++;b[0]=["M",c,e]}for(var o=a[l];k<o;k++){var p=
b[k]=[],q=a[k];if(q[0]!=xa.call(q[0])){p[0]=xa.call(q[0]);switch(p[0]){case "A":p[1]=q[1];p[2]=q[2];p[3]=q[3];p[4]=q[4];p[5]=q[5];p[6]=+(q[6]+c);p[7]=+(q[7]+e);break;case "V":p[1]=+q[1]+e;break;case "H":p[1]=+q[1]+c;break;case "M":g=+q[1]+c;d=+q[2]+e;default:for(var G=1,K=q[l];G<K;G++)p[G]=+q[G]+(G%2?c:e)}}else{G=0;for(K=q[l];G<K;G++)b[k][G]=q[G]}switch(p[0]){case "Z":c=g;e=d;break;case "H":c=p[1];break;case "V":e=p[1];break;case "M":g=b[k][b[k][l]-2];d=b[k][b[k][l]-1];default:c=b[k][b[k][l]-2];e=
b[k][b[k][l]-1]}}b[X]=f._path2string;return b},null,Ha),bb=function(a,b,c,e,g,d){var k=1/3,o=2/3;return[k*a+o*c,k*b+o*e,k*g+o*c,k*d+o*e,g,d]},cb=function(a,b,c,e,g,d,k,o,p,q){var G=C*120/180,K=C/180*(+g||0),L=[],T,ba=x(function(pa,qa,na){var za=pa*E.cos(na)-qa*E.sin(na);pa=pa*E.sin(na)+qa*E.cos(na);return{x:za,y:pa}});if(q){W=q[0];T=q[1];d=q[2];Q=q[3]}else{T=ba(a,b,-K);a=T.x;b=T.y;T=ba(o,p,-K);o=T.x;p=T.y;E.cos(C/180*g);E.sin(C/180*g);T=(a-o)/2;W=(b-p)/2;Q=T*T/(c*c)+W*W/(e*e);if(Q>1){Q=E.sqrt(Q);
c*=Q;e*=Q}Q=c*c;var U=e*e;Q=(d==k?-1:1)*E.sqrt(n((Q*U-Q*W*W-U*T*T)/(Q*W*W+U*T*T)));d=Q*c*W/e+(a+o)/2;var Q=Q*-e*T/c+(b+p)/2,W=E.asin(((b-Q)/e).toFixed(9));T=E.asin(((p-Q)/e).toFixed(9));W=a<d?C-W:W;T=o<d?C-T:T;W<0&&(W=C*2+W);T<0&&(T=C*2+T);k&&W>T&&(W-=C*2);!k&&T>W&&(T-=C*2)}if(n(T-W)>G){L=T;U=o;var ka=p;T=W+G*(k&&T>W?1:-1);o=d+c*E.cos(T);p=Q+e*E.sin(T);L=cb(o,p,c,e,g,0,k,U,ka,[T,L,d,Q])}d=T-W;g=E.cos(W);G=E.sin(W);k=E.cos(T);T=E.sin(T);d=E.tan(d/4);c=4/3*c*d;d*=4/3*e;e=[a,b];a=[a+c*G,b-d*g];b=[o+
c*T,p-d*k];o=[o,p];a[0]=2*e[0]-a[0];a[1]=2*e[1]-a[1];if(q)return[a,b,o].concat(L);L=[a,b,o].concat(L)[B]().split(",");q=[];o=0;for(p=L[l];o<p;o++)q[o]=o%2?ba(L[o-1],L[o],K).y:ba(L[o],L[o+1],K).x;return q},Ka=function(a,b,c,e,g,d,k,o,p){var q=1-p;return{x:r(q,3)*a+r(q,2)*3*p*c+q*3*p*p*g+r(p,3)*k,y:r(q,3)*b+r(q,2)*3*p*e+q*3*p*p*d+r(p,3)*o}},Db=x(function(a,b,c,e,g,d,k,o){var p=g-2*c+a-(k-2*g+c),q=2*(c-a)-2*(g-c),G=a-c,K=(-q+E.sqrt(q*q-4*p*G))/2/p;p=(-q-E.sqrt(q*q-4*p*G))/2/p;var L=[b,o],T=[a,k];n(K)>
"1e12"&&(K=0.5);n(p)>"1e12"&&(p=0.5);if(K>0&&K<1){K=Ka(a,b,c,e,g,d,k,o,K);T[Y](K.x);L[Y](K.y)}if(p>0&&p<1){K=Ka(a,b,c,e,g,d,k,o,p);T[Y](K.x);L[Y](K.y)}p=d-2*e+b-(o-2*d+e);q=2*(e-b)-2*(d-e);G=b-e;K=(-q+E.sqrt(q*q-4*p*G))/2/p;p=(-q-E.sqrt(q*q-4*p*G))/2/p;n(K)>"1e12"&&(K=0.5);n(p)>"1e12"&&(p=0.5);if(K>0&&K<1){K=Ka(a,b,c,e,g,d,k,o,K);T[Y](K.x);L[Y](K.y)}if(p>0&&p<1){K=Ka(a,b,c,e,g,d,k,o,p);T[Y](K.x);L[Y](K.y)}return{min:{x:h[O](0,T),y:h[O](0,L)},max:{x:F[O](0,T),y:F[O](0,L)}}}),Ia=x(function(a,b){var c=
Ba(a),e=b&&Ba(b),g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},k=function(U,Q){var W,ka;if(!U)return["C",Q.x,Q.y,Q.x,Q.y,Q.x,Q.y];!(U[0]in{T:1,Q:1})&&(Q.qx=Q.qy=null);switch(U[0]){case "M":Q.X=U[1];Q.Y=U[2];break;case "A":U=["C"].concat(cb[O](0,[Q.x,Q.y].concat(U.slice(1))));break;case "S":W=Q.x+(Q.x-(Q.bx||Q.x));ka=Q.y+(Q.y-(Q.by||Q.y));U=["C",W,ka].concat(U.slice(1));break;case "T":Q.qx=Q.x+(Q.x-(Q.qx||Q.x));Q.qy=Q.y+(Q.y-(Q.qy||Q.y));U=["C"].concat(bb(Q.x,
Q.y,Q.qx,Q.qy,U[1],U[2]));break;case "Q":Q.qx=U[1];Q.qy=U[2];U=["C"].concat(bb(Q.x,Q.y,U[1],U[2],U[3],U[4]));break;case "L":U=["C"].concat([Q.x,Q.y,U[1],U[2],U[1],U[2]]);break;case "H":U=["C"].concat([Q.x,Q.y,U[1],Q.y,U[1],Q.y]);break;case "V":U=["C"].concat([Q.x,Q.y,Q.x,U[1],Q.x,U[1]]);break;case "Z":U=["C"].concat([Q.x,Q.y,Q.X,Q.Y,Q.X,Q.Y])}return U},o=function(U,Q){if(U[Q][l]>7){U[Q].shift();for(var W=U[Q];W[l];)U.splice(Q++,0,["C"].concat(W.splice(0,6)));U.splice(Q,1);G=F(c[l],e&&e[l]||0)}},p=
function(U,Q,W,ka,pa){if(U&&Q&&U[pa][0]=="M"&&Q[pa][0]!="M"){Q.splice(pa,0,["M",ka.x,ka.y]);W.bx=0;W.by=0;W.x=U[pa][1];W.y=U[pa][2];G=F(c[l],e&&e[l]||0)}},q=0,G=F(c[l],e&&e[l]||0);for(;q<G;q++){c[q]=k(c[q],g);o(c,q);e&&(e[q]=k(e[q],d));e&&o(e,q);p(c,e,g,d,q);p(e,c,d,g,q);var K=c[q],L=e&&e[q],T=K[l],ba=e&&L[l];g.x=K[T-2];g.y=K[T-1];g.bx=V(K[T-4])||g.x;g.by=V(K[T-3])||g.y;d.bx=e&&(V(L[ba-4])||d.x);d.by=e&&(V(L[ba-3])||d.y);d.x=e&&L[ba-2];d.y=e&&L[ba-1]}return e?[c,e]:c},null,Ha),db=x(function(a){for(var b=
[],c=0,e=a[l];c<e;c++){var g={},d=a[c].match(/^([^:]*):?([\d\.]*)/);g.color=f.getRGB(d[1]);if(g.color.error)return null;g.color=g.color.hex;d[2]&&(g.offset=d[2]+"%");b[Y](g)}c=1;for(e=b[l]-1;c<e;c++)if(!b[c].offset){a=V(b[c-1].offset||0);d=0;for(g=c+1;g<e;g++)if(b[g].offset){d=b[g].offset;break}if(!d){d=100;g=e}d=V(d);for(d=(d-a)/(g-c+1);c<g;c++){a+=d;b[c].offset=a+"%"}}return b}),eb=function(a,b,c,e){if(f.is(a,"string")||f.is(a,"object")){a=f.is(a,"string")?J.getElementById(a):a;if(a.tagName)return b==
null?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:b,height:c}}else return{container:1,x:a,y:b,width:c,height:e}},Sa=function(a,b){var c=this,e;for(e in b)if(b[A](e)&&!(e in a))switch(typeof b[e]){case "function":(function(g){a[e]=a===c?g:function(){return g[O](c,arguments)}})(b[e]);break;case "object":a[e]=a[e]||{};Sa.call(this,a[e],b[e]);break;default:a[e]=b[e]}},Aa=function(a,b){a==b.top&&(b.top=a.prev);a==b.bottom&&(b.bottom=
a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)},fb=function(a,b){if(b.top!==a){Aa(a,b);a.next=null;a.prev=b.top;b.top.next=a;b.top=a}},gb=function(a,b){if(b.bottom!==a){Aa(a,b);a.next=b.bottom;a.prev=null;b.bottom.prev=a;b.bottom=a}},hb=function(a,b,c){Aa(a,c);b==c.top&&(c.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a},ib=function(a,b,c){Aa(a,c);b==c.bottom&&(c.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b},jb=function(a){return function(){throw Error("Rapha\u00ebl: you are calling to method \u201c"+
a+"\u201d of removed object");}};f.pathToRelative=Ra;if(f.svg){N.svgns="http://www.w3.org/2000/svg";N.xlink="http://www.w3.org/1999/xlink";Z=function(a){return+a+(~~a===a)*0.5};var aa=function(a,b){if(b)for(var c in b)b[A](c)&&a.setAttribute(c,y(b[c]));else{a=J.createElementNS(N.svgns,a);a.style.webkitTapHighlightColor="rgba(0,0,0,0)";return a}};f[X]=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var kb=function(a,b){var c=aa("path");b.canvas&&b.canvas.appendChild(c);
c=new ia(c,b);c.type="path";ya(c,{fill:"none",stroke:"#000",path:a});return c},Ca=function(a,b,c){var e="linear",g=0.5,d=0.5,k=a.style;b=y(b).replace($a,function(G,K,L){e="radial";if(K&&L){g=V(K);d=V(L);G=(d>0.5)*2-1;r(g-0.5,2)+r(d-0.5,2)>0.25&&(d=E.sqrt(0.25-r(g-0.5,2))*G+0.5)&&d!=0.5&&(d=d.toFixed(5)-1.0E-5*G)}return""});b=b.split(/\s*\-\s*/);if(e=="linear"){var o=b.shift();o=-V(o);if(isNaN(o))return null;o=[0,0,E.cos(o*C/180),E.sin(o*C/180)];var p=1/(F(n(o[2]),n(o[3]))||1);o[2]*=p;o[3]*=p;if(o[2]<
0){o[0]=-o[2];o[2]=0}if(o[3]<0){o[1]=-o[3];o[3]=0}}b=db(b);if(!b)return null;p=a.getAttribute("fill");(p=p.match(/^url\(#(.*)\)$/))&&c.defs.removeChild(J.getElementById(p[1]));p=aa(e+"Gradient");p.id=D();aa(p,e=="radial"?{fx:g,fy:d}:{x1:o[0],y1:o[1],x2:o[2],y2:o[3]});c.defs.appendChild(p);c=0;for(o=b[l];c<o;c++){var q=aa("stop");aa(q,{offset:b[c].offset?b[c].offset:c?"100%":"0%","stop-color":b[c].color||"#fff"});p.appendChild(q)}aa(a,{fill:"url(#"+p.id+")",opacity:1,"fill-opacity":1});k.fill="";k.opacity=
1;return k.fillOpacity=1},Ta=function(a){var b=a.getBBox();aa(a.pattern,{patternTransform:f.format("translate({0},{1})",b.x,b.y)})},ya=function(a,b){var c={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},e=a.node,g=a.attrs,d=a.rotate(),k=function(ba,U){if(U=c[s.call(U)]){for(var Q=ba.attrs["stroke-width"]||"1",W={round:Q,square:Q,butt:0}[ba.attrs["stroke-linecap"]||b["stroke-linecap"]]||0,
ka=[],pa=U[l];pa--;)ka[pa]=U[pa]*Q+(pa%2?1:-1)*W;aa(e,{"stroke-dasharray":ka[B](",")})}};b[A]("rotation")&&(d=b.rotation);var o=y(d).split(z);if(o.length-1){o[1]=+o[1];o[2]=+o[2]}else o=null;V(d)&&a.rotate(0,true);for(var p in b)if(b[A](p))if(Fa[A](p)){var q=b[p];g[p]=q;switch(p){case "blur":a.blur(q);break;case "rotation":a.rotate(q,true);break;case "href":case "title":case "target":var G=e.parentNode;if(s.call(G.tagName)!="a"){var K=aa("a");G.insertBefore(K,e);K.appendChild(e);G=K}p=="target"&&
q=="blank"?G.setAttributeNS(a.paper.xlink,"show","new"):G.setAttributeNS(a.paper.xlink,p,q);break;case "cursor":e.style.cursor=q;break;case "clip-rect":G=y(q).split(z);if(G[l]==4){a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode);var L=aa("clipPath");K=aa("rect");L.id=D();aa(K,{x:G[0],y:G[1],width:G[2],height:G[3]});L.appendChild(K);a.paper.defs.appendChild(L);aa(e,{"clip-path":"url(#"+L.id+")"});a.clip=K}if(!q){(q=J.getElementById(e.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,
"")))&&q.parentNode.removeChild(q);aa(e,{"clip-path":""});delete a.clip}break;case "path":a.type=="path"&&aa(e,{d:q?g.path=Ba(q):"M0,0"});break;case "width":e.setAttribute(p,q);if(g.fx){p="x";q=g.x}else break;case "x":g.fx&&(q=-g.x-(g.width||0));case "rx":if(p=="rx"&&a.type=="rect")break;case "cx":o&&(p=="x"||p=="cx")&&(o[1]+=q-g[p]);e.setAttribute(p,q);a.pattern&&Ta(a);break;case "height":e.setAttribute(p,q);if(g.fy){p="y";q=g.y}else break;case "y":g.fy&&(q=-g.y-(g.height||0));case "ry":if(p=="ry"&&
a.type=="rect")break;case "cy":o&&(p=="y"||p=="cy")&&(o[2]+=q-g[p]);e.setAttribute(p,q);a.pattern&&Ta(a);break;case "r":a.type=="rect"?aa(e,{rx:q,ry:q}):e.setAttribute(p,q);break;case "src":a.type=="image"&&e.setAttributeNS(a.paper.xlink,"href",q);break;case "stroke-width":e.style.strokeWidth=q;e.setAttribute(p,q);g["stroke-dasharray"]&&k(a,g["stroke-dasharray"]);break;case "stroke-dasharray":k(a,q);break;case "translation":q=y(q).split(z);q[0]=+q[0]||0;q[1]=+q[1]||0;if(o){o[1]+=q[0];o[2]+=q[1]}La.call(a,
q[0],q[1]);break;case "scale":q=y(q).split(z);a.scale(+q[0]||1,+q[1]||+q[0]||1,isNaN(V(q[2]))?null:+q[2],isNaN(V(q[3]))?null:+q[3]);break;case "fill":if(G=y(q).match(ea)){L=aa("pattern");var T=aa("image");L.id=D();aa(L,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});aa(T,{x:0,y:0});T.setAttributeNS(a.paper.xlink,"href",G[1]);L.appendChild(T);q=J.createElement("img");q.style.cssText="position:absolute;left:-9999em;top-9999em";q.onload=function(){aa(L,{width:this.offsetWidth,height:this.offsetHeight});
aa(T,{width:this.offsetWidth,height:this.offsetHeight});J.body.removeChild(this);a.paper.safari()};J.body.appendChild(q);q.src=G[1];a.paper.defs.appendChild(L);e.style.fill="url(#"+L.id+")";aa(e,{fill:"url(#"+L.id+")"});a.pattern=L;a.pattern&&Ta(a);break}G=f.getRGB(q);if(G.error)if(({circle:1,ellipse:1}[A](a.type)||y(q).charAt()!="r")&&Ca(e,q,a.paper)){g.gradient=q;g.fill="none";break}else{delete b.gradient;delete g.gradient;!f.is(g.opacity,"undefined")&&f.is(b.opacity,"undefined")&&aa(e,{opacity:g.opacity});
!f.is(g["fill-opacity"],"undefined")&&f.is(b["fill-opacity"],"undefined")&&aa(e,{"fill-opacity":g["fill-opacity"]})}G[A]("opacity")&&aa(e,{"fill-opacity":G.opacity>1?G.opacity/100:G.opacity});case "stroke":G=f.getRGB(q);e.setAttribute(p,G.hex);p=="stroke"&&G[A]("opacity")&&aa(e,{"stroke-opacity":G.opacity>1?G.opacity/100:G.opacity});break;case "gradient":(({circle:1,ellipse:1})[A](a.type)||y(q).charAt()!="r")&&Ca(e,q,a.paper);break;case "opacity":g.gradient&&!g[A]("stroke-opacity")&&aa(e,{"stroke-opacity":q>
1?q/100:q});case "fill-opacity":if(g.gradient){if(G=J.getElementById(e.getAttribute("fill").replace(/^url\(#|\)$/g,""))){G=G.getElementsByTagName("stop");G[G[l]-1].setAttribute("stop-opacity",q)}break}default:p=="font-size"&&(q=oa(q,10)+"px");G=p.replace(/(\-.)/g,function(ba){return xa.call(ba.substring(1))});e.style[G]=q;e.setAttribute(p,q)}}Eb(a,b);o?a.rotate(o.join(da)):V(d)&&a.rotate(d,true)},Eb=function(a,b){if(!(a.type!="text"||!(b[A]("text")||b[A]("font")||b[A]("font-size")||b[A]("x")||b[A]("y")))){var c=
a.attrs,e=a.node,g=e.firstChild?oa(J.defaultView.getComputedStyle(e.firstChild,"").getPropertyValue("font-size"),10):10;if(b[A]("text")){for(c.text=b.text;e.firstChild;)e.removeChild(e.firstChild);for(var d=y(b.text).split("\n"),k=0,o=d[l];k<o;k++)if(d[k]){var p=aa("tspan");k&&aa(p,{dy:g*1.2,x:c.x});p.appendChild(J.createTextNode(d[k]));e.appendChild(p)}}else{d=e.getElementsByTagName("tspan");k=0;for(o=d[l];k<o;k++)k&&aa(d[k],{dy:g*1.2,x:c.x})}aa(e,{y:c.y});g=a.getBBox();(g=c.y-(g.y+g.height/2))&&
f.is(g,"finite")&&aa(e,{y:c.y+g})}},ia=function(a,b){this[0]=a;this.id=f._oid++;this.node=a;a.raphael=this;this.paper=b;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!b.bottom&&(b.bottom=this);(this.prev=b.top)&&(b.top.next=this);b.top=this;this.next=null},ga=ia[M];ia[M].rotate=function(a,b,c){if(this.removed)return this;if(a==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][B](da);return this._.rt.deg}var e=this.getBBox();
a=y(a).split(z);if(a[l]-1){b=V(a[1]);c=V(a[2])}a=V(a[0]);b!=null&&b!==false?this._.rt.deg=a:this._.rt.deg+=a;c==null&&(b=null);this._.rt.cx=b;this._.rt.cy=c;b=b==null?e.x+e.width/2:b;c=c==null?e.y+e.height/2:c;if(this._.rt.deg){this.transformations[0]=f.format("rotate({0} {1} {2})",this._.rt.deg,b,c);this.clip&&aa(this.clip,{transform:f.format("rotate({0} {1} {2})",-this._.rt.deg,b,c)})}else{this.transformations[0]="";this.clip&&aa(this.clip,{transform:""})}aa(this.node,{transform:this.transformations[B](da)});
return this};ia[M].hide=function(){!this.removed&&(this.node.style.display="none");return this};ia[M].show=function(){!this.removed&&(this.node.style.display="");return this};ia[M].remove=function(){if(!this.removed){Aa(this,this.paper);this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=true}};ia[M].getBBox=function(){if(this.removed)return this;if(this.type=="path")return Ja(this.attrs.path);if(this.node.style.display=="none"){this.show();var a=true}var b={};
try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}if(this.type=="text"){b={x:b.x,y:Infinity,width:0,height:0};for(var e=0,g=this.node.getNumberOfChars();e<g;e++){var d=this.node.getExtentOfChar(e);d.y<b.y&&(b.y=d.y);d.y+d.height-b.y>b.height&&(b.height=d.y+d.height-b.y);d.x+d.width-b.x>b.width&&(b.width=d.x+d.width-b.x)}}a&&this.hide();return b};ia[M].attr=function(a,b){if(this.removed)return this;if(a==null){var c={},e;for(e in this.attrs)this.attrs[A](e)&&(c[e]=this.attrs[e]);this._.rt.deg&&(c.rotation=
this.rotate());(this._.sx!=1||this._.sy!=1)&&(c.scale=this.scale());c.gradient&&c.fill=="none"&&(c.fill=c.gradient)&&delete c.gradient;return c}if(b==null&&f.is(a,"string")){if(a=="translation")return La.call(this);if(a=="rotation")return this.rotate();if(a=="scale")return this.scale();if(a=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[a]}if(b==null&&f.is(a,S)){e={};c=0;for(var g=a.length;c<g;c++)e[a[c]]=this.attr(a[c]);return e}if(b!=null){c={};
c[a]=b}else a!=null&&f.is(a,"object")&&(c=a);for(g in this.paper.customAttributes)if(this.paper.customAttributes[A](g)&&c[A](g)&&f.is(this.paper.customAttributes[g],"function")){e=this.paper.customAttributes[g].apply(this,[].concat(c[g]));this.attrs[g]=c[g];for(var d in e)e[A](d)&&(c[d]=e[d])}ya(this,c);return this};ia[M].toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&fb(this,a);return this};ia[M].toBack=function(){if(this.removed)return this;
if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);gb(this,this.paper)}return this};ia[M].insertAfter=function(a){if(this.removed)return this;var b=a.node||a[a.length-1].node;b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode.appendChild(this.node);hb(this,a,this.paper);return this};ia[M].insertBefore=function(a){if(this.removed)return this;var b=a.node||a[0].node;b.parentNode.insertBefore(this.node,
b);ib(this,a,this.paper);return this};ia[M].blur=function(a){if(+a!==0){var b=aa("filter"),c=aa("feGaussianBlur");this.attrs.blur=a;b.id=D();aa(c,{stdDeviation:+a||1.5});b.appendChild(c);this.paper.defs.appendChild(b);this._blur=b;aa(this.node,{filter:"url(#"+b.id+")"})}else{if(this._blur){this._blur.parentNode.removeChild(this._blur);delete this._blur;delete this.attrs.blur}this.node.removeAttribute("filter")}};var lb=function(a,b,c,e){var g=aa("circle");a.canvas&&a.canvas.appendChild(g);a=new ia(g,
a);a.attrs={cx:b,cy:c,r:e,fill:"none",stroke:"#000"};a.type="circle";aa(g,a.attrs);return a},mb=function(a,b,c,e,g,d){var k=aa("rect");a.canvas&&a.canvas.appendChild(k);a=new ia(k,a);a.attrs={x:b,y:c,width:e,height:g,r:d||0,rx:d||0,ry:d||0,fill:"none",stroke:"#000"};a.type="rect";aa(k,a.attrs);return a},nb=function(a,b,c,e,g){var d=aa("ellipse");a.canvas&&a.canvas.appendChild(d);a=new ia(d,a);a.attrs={cx:b,cy:c,rx:e,ry:g,fill:"none",stroke:"#000"};a.type="ellipse";aa(d,a.attrs);return a},ob=function(a,
b,c,e,g,d){var k=aa("image");aa(k,{x:c,y:e,width:g,height:d,preserveAspectRatio:"none"});k.setAttributeNS(a.xlink,"href",b);a.canvas&&a.canvas.appendChild(k);a=new ia(k,a);a.attrs={x:c,y:e,width:g,height:d,src:b};a.type="image";return a},pb=function(a,b,c,e){var g=aa("text");aa(g,{x:b,y:c,"text-anchor":"middle"});a.canvas&&a.canvas.appendChild(g);a=new ia(g,a);a.attrs={x:b,y:c,"text-anchor":"middle",text:e,font:Fa.font,stroke:"none",fill:"#000"};a.type="text";ya(a,a.attrs);return a},qb=function(a,
b){this.width=a||this.width;this.height=b||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this},Oa=function(){var a=eb[O](0,arguments),b=a&&a.container,c=a.x,e=a.y,g=a.width;a=a.height;if(!b)throw Error("SVG container not found.");var d=aa("svg");c=c||0;e=e||0;g=g||512;a=a||342;aa(d,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:g,height:a});if(b==1){d.style.cssText="position:absolute;left:"+c+"px;top:"+e+"px";J.body.appendChild(d)}else b.firstChild?
b.insertBefore(d,b.firstChild):b.appendChild(d);b=new w;b.width=g;b.height=a;b.canvas=d;Sa.call(b,b,f.fn);b.clear();return b};N.clear=function(){for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=aa("desc")).appendChild(J.createTextNode("Created with Rapha\u00ebl"));a.appendChild(this.desc);a.appendChild(this.defs=aa("defs"))};N.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=jb(a)}}if(f.vml){var rb=
{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Fb=/([clmz]),?([^clmz]*)/gi,Gb=/ progid:\S+Blur\([^\)]+\)/g,Hb=/-?[^,\s-]+/g,Da=1E3+da+1E3,Ea={path:1,rect:1},Ib=function(a){var b=/[ahqstv]/ig,c=Ba;y(a).match(b)&&(c=Ia);b=/[clmz]/g;if(c==Ba&&!y(a).match(b))return a=y(a).replace(Fb,function(p,q,G){var K=[],L=s.call(q)=="m",T=rb[q];G.replace(Hb,function(ba){if(L&&K[l]==2){T+=K+rb[q=="m"?"l":"L"];K=[]}K[Y](Z(ba*10))});return T+K});b=c(a);var e;a=[];for(var g=0,d=b[l];g<d;g++){c=b[g];e=s.call(b[g][0]);
e=="z"&&(e="x");for(var k=1,o=c[l];k<o;k++)e+=Z(c[k]*10)+(k!=o-1?",":"");a[Y](e)}return a[B](da)};f[X]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};kb=function(a,b){var c=ra("group");c.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";c.coordsize=b.coordsize;c.coordorigin=b.coordorigin;var e=ra("shape"),g=e.style;g.width=b.width+"px";g.height=b.height+"px";e.coordsize=Da;e.coordorigin=
b.coordorigin;c.appendChild(e);e=new ia(e,c,b);g={fill:"none",stroke:"#000"};a&&(g.path=a);e.type="path";e.path=[];e.Path="";ya(e,g);b.canvas.appendChild(c);return e};ya=function(a,b){a.attrs=a.attrs||{};var c=a.node,e=a.attrs,g=c.style,d;d=(b.x!=e.x||b.y!=e.y||b.width!=e.width||b.height!=e.height||b.r!=e.r)&&a.type=="rect";for(var k in b)b[A](k)&&(e[k]=b[k]);if(d){e.path=sb(e.x,e.y,e.width,e.height,e.r);a.X=e.x;a.Y=e.y;a.W=e.width;a.H=e.height}b.href&&(c.href=b.href);b.title&&(c.title=b.title);b.target&&
(c.target=b.target);b.cursor&&(g.cursor=b.cursor);"blur"in b&&a.blur(b.blur);if(b.path&&a.type=="path"||d)c.path=Ib(e.path);b.rotation!=null&&a.rotate(b.rotation,true);if(b.translation){d=y(b.translation).split(z);La.call(a,d[0],d[1]);if(a._.rt.cx!=null){a._.rt.cx+=+d[0];a._.rt.cy+=+d[1];a.setBox(a.attrs,d[0],d[1])}}if(b.scale){d=y(b.scale).split(z);a.scale(+d[0]||1,+d[1]||+d[0]||1,+d[2]||null,+d[3]||null)}if("clip-rect"in b){d=y(b["clip-rect"]).split(z);if(d[l]==4){d[2]=+d[2]+ +d[0];d[3]=+d[3]+ +d[1];
k=c.clipRect||J.createElement("div");var o=k.style,p=c.parentNode;o.clip=f.format("rect({1}px {2}px {3}px {0}px)",d);if(!c.clipRect){o.position="absolute";o.top=0;o.left=0;o.width=a.paper.width+"px";o.height=a.paper.height+"px";p.parentNode.insertBefore(k,p);k.appendChild(p);c.clipRect=k}}b["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="")}a.type=="image"&&b.src&&(c.src=b.src);if(a.type=="image"&&b.opacity){c.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+b.opacity*100+")";g.filter=
(c.filterMatrix||"")+(c.filterOpacity||"")}b.font&&(g.font=b.font);b["font-family"]&&(g.fontFamily='"'+b["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');b["font-size"]&&(g.fontSize=b["font-size"]);b["font-weight"]&&(g.fontWeight=b["font-weight"]);b["font-style"]&&(g.fontStyle=b["font-style"]);if(b.opacity!=null||b["stroke-width"]!=null||b.fill!=null||b.stroke!=null||b["stroke-width"]!=null||b["stroke-opacity"]!=null||b["fill-opacity"]!=null||b["stroke-dasharray"]!=null||b["stroke-miterlimit"]!=
null||b["stroke-linejoin"]!=null||b["stroke-linecap"]!=null){c=a.shape||c;d=c.getElementsByTagName("fill")&&c.getElementsByTagName("fill")[0];k=false;!d&&(k=d=ra("fill"));if("fill-opacity"in b||"opacity"in b){g=((+e["fill-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+f.getRGB(b.fill).o+1||2)-1);g=h(F(g,0),1);d.opacity=g}b.fill&&(d.on=true);if(d.on==null||b.fill=="none")d.on=false;if(d.on&&b.fill)if(g=b.fill.match(ea)){d.src=g[1];d.type="tile"}else{d.color=f.getRGB(b.fill).hex;d.src="";d.type="solid";
if(f.getRGB(b.fill).error&&(a.type in{circle:1,ellipse:1}||y(b.fill).charAt()!="r")&&Ca(a,b.fill)){e.fill="none";e.gradient=b.fill}}k&&c.appendChild(d);d=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0];k=false;!d&&(k=d=ra("stroke"));if(b.stroke&&b.stroke!="none"||b["stroke-width"]||b["stroke-opacity"]!=null||b["stroke-dasharray"]||b["stroke-miterlimit"]||b["stroke-linejoin"]||b["stroke-linecap"])d.on=true;(b.stroke=="none"||d.on==null||b.stroke==0||b["stroke-width"]==0)&&(d.on=
false);g=f.getRGB(b.stroke);d.on&&b.stroke&&(d.color=g.hex);g=((+e["stroke-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+g.o+1||2)-1);o=(V(b["stroke-width"])||1)*0.75;g=h(F(g,0),1);b["stroke-width"]==null&&(o=e["stroke-width"]);b["stroke-width"]&&(d.weight=o);o&&o<1&&(g*=o)&&(d.weight=1);d.opacity=g;b["stroke-linejoin"]&&(d.joinstyle=b["stroke-linejoin"]||"miter");d.miterlimit=b["stroke-miterlimit"]||8;b["stroke-linecap"]&&(d.endcap=b["stroke-linecap"]=="butt"?"flat":b["stroke-linecap"]=="square"?"square":
"round");if(b["stroke-dasharray"]){g={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};d.dashstyle=g[A](b["stroke-dasharray"])?g[b["stroke-dasharray"]]:""}k&&c.appendChild(d)}if(a.type=="text"){g=a.paper.span.style;e.font&&(g.font=e.font);e["font-family"]&&(g.fontFamily=e["font-family"]);e["font-size"]&&(g.fontSize=e["font-size"]);e["font-weight"]&&(g.fontWeight=e["font-weight"]);
e["font-style"]&&(g.fontStyle=e["font-style"]);a.node.string&&(a.paper.span.innerHTML=y(a.node.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));a.W=e.w=a.paper.span.offsetWidth;a.H=e.h=a.paper.span.offsetHeight;a.X=e.x;a.Y=e.y+Z(a.H/2);switch(e["text-anchor"]){case "start":a.node.style["v-text-align"]="left";a.bbx=Z(a.W/2);break;case "end":a.node.style["v-text-align"]="right";a.bbx=-Z(a.W/2);break;default:a.node.style["v-text-align"]="center"}}};Ca=function(a,b){a.attrs=
a.attrs||{};var c,e="linear",g=".5 .5";a.attrs.gradient=b;b=y(b).replace($a,function(G,K,L){e="radial";if(K&&L){K=V(K);L=V(L);r(K-0.5,2)+r(L-0.5,2)>0.25&&(L=E.sqrt(0.25-r(K-0.5,2))*((L>0.5)*2-1)+0.5);g=K+da+L}return""});b=b.split(/\s*\-\s*/);if(e=="linear"){var d=b.shift();d=-V(d);if(isNaN(d))return null}var k=db(b);if(!k)return null;a=a.shape||a.node;c=a.getElementsByTagName("fill")[0]||ra("fill");!c.parentNode&&a.appendChild(c);if(k[l]){c.on=true;c.method="none";c.color=k[0].color;c.color2=k[k[l]-
1].color;for(var o=[],p=0,q=k[l];p<q;p++)k[p].offset&&o[Y](k[p].offset+da+k[p].color);c.colors&&(c.colors.value=o[l]?o[B]():"0% "+c.color);if(e=="radial"){c.type="gradientradial";c.focus="100%";c.focussize=g;c.focusposition=g}else{c.type="gradient";c.angle=(270-d)%360}}return 1};ia=function(a,b,c){this[0]=a;this.id=f._oid++;this.node=a;a.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=b;this.paper=c;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!c.bottom&&(c.bottom=this);(this.prev=c.top)&&(c.top.next=
this);c.top=this;this.next=null};ga=ia[M];ga.rotate=function(a,b,c){if(this.removed)return this;if(a==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][B](da);return this._.rt.deg}a=y(a).split(z);if(a[l]-1){b=V(a[1]);c=V(a[2])}a=V(a[0]);b!=null?this._.rt.deg=a:this._.rt.deg+=a;c==null&&(b=null);this._.rt.cx=b;this._.rt.cy=c;this.setBox(this.attrs,b,c);this.Group.style.rotation=this._.rt.deg;return this};ga.setBox=function(a,b,c){if(this.removed)return this;var e=this.Group.style,
g=this.shape&&this.shape.style||this.node.style;a=a||{};for(var d in a)a[A](d)&&(this.attrs[d]=a[d]);b=b||this._.rt.cx;c=c||this._.rt.cy;var k=this.attrs,o;switch(this.type){case "circle":a=k.cx-k.r;d=k.cy-k.r;o=k=k.r*2;break;case "ellipse":a=k.cx-k.rx;d=k.cy-k.ry;o=k.rx*2;k=k.ry*2;break;case "image":a=+k.x;d=+k.y;o=k.width||0;k=k.height||0;break;case "text":this.textpath.v=["m",Z(k.x),", ",Z(k.y-2),"l",Z(k.x)+1,", ",Z(k.y-2)][B]("");a=k.x-Z(this.W/2);d=k.y-this.H/2;o=this.W;k=this.H;break;case "rect":case "path":if(this.attrs.path){k=
Ja(this.attrs.path);a=k.x;d=k.y;o=k.width;k=k.height}else{d=a=0;o=this.paper.width;k=this.paper.height}break;default:d=a=0;o=this.paper.width;k=this.paper.height}b=(b==null?a+o/2:b)-this.paper.width/2;c=(c==null?d+k/2:c)-this.paper.height/2;var p;e.left!=(p=b+"px")&&(e.left=p);e.top!=(p=c+"px")&&(e.top=p);this.X=Ea[A](this.type)?-b:a;this.Y=Ea[A](this.type)?-c:d;this.W=o;this.H=k;if(Ea[A](this.type)){g.left!=(p=-b*10+"px")&&(g.left=p);g.top!=(p=-c*10+"px")&&(g.top=p)}else if(this.type=="text"){g.left!=
(p=-b+"px")&&(g.left=p);g.top!=(p=-c+"px")&&(g.top=p)}else{e.width!=(p=this.paper.width+"px")&&(e.width=p);e.height!=(p=this.paper.height+"px")&&(e.height=p);g.left!=(p=a-b+"px")&&(g.left=p);g.top!=(p=d-c+"px")&&(g.top=p);g.width!=(p=o+"px")&&(g.width=p);g.height!=(p=k+"px")&&(g.height=p)}};ga.hide=function(){!this.removed&&(this.Group.style.display="none");return this};ga.show=function(){!this.removed&&(this.Group.style.display="block");return this};ga.getBBox=function(){if(this.removed)return this;
if(Ea[A](this.type))return Ja(this.attrs.path);return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};ga.remove=function(){if(!this.removed){Aa(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=true}};ga.attr=function(a,b){if(this.removed)return this;if(a==null){var c={},e;for(e in this.attrs)this.attrs[A](e)&&(c[e]=this.attrs[e]);
this._.rt.deg&&(c.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(c.scale=this.scale());c.gradient&&c.fill=="none"&&(c.fill=c.gradient)&&delete c.gradient;return c}if(b==null&&f.is(a,"string")){if(a=="translation")return La.call(this);if(a=="rotation")return this.rotate();if(a=="scale")return this.scale();if(a=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[a]}if(this.attrs&&b==null&&f.is(a,S)){var g={};e=0;for(c=a[l];e<c;e++)g[a[e]]=this.attr(a[e]);
return g}if(b!=null){c={};c[a]=b}b==null&&f.is(a,"object")&&(c=a);if(c){for(g in this.paper.customAttributes)if(this.paper.customAttributes[A](g)&&c[A](g)&&f.is(this.paper.customAttributes[g],"function")){e=this.paper.customAttributes[g].apply(this,[].concat(c[g]));this.attrs[g]=c[g];for(var d in e)e[A](d)&&(c[d]=e[d])}c.text&&this.type=="text"&&(this.node.string=c.text);ya(this,c);c.gradient&&({circle:1,ellipse:1}[A](this.type)||y(c.gradient).charAt()!="r")&&Ca(this,c.gradient);(!Ea[A](this.type)||
this._.rt.deg)&&this.setBox(this.attrs)}return this};ga.toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=this&&fb(this,this.paper);return this};ga.toBack=function(){if(this.removed)return this;if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);gb(this,this.paper)}return this};ga.insertAfter=function(a){if(this.removed)return this;a.constructor==ta&&(a=a[a.length-1]);a.Group.nextSibling?
a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling):a.Group.parentNode.appendChild(this.Group);hb(this,a,this.paper);return this};ga.insertBefore=function(a){if(this.removed)return this;a.constructor==ta&&(a=a[0]);a.Group.parentNode.insertBefore(this.Group,a.Group);ib(this,a,this.paper);return this};ga.blur=function(a){var b=this.node.runtimeStyle,c=b.filter;c=c.replace(Gb,"");if(+a!==0){this.attrs.blur=a;b.filter=c+da+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+a||1.5)+")";
b.margin=f.format("-{0}px 0 0 -{0}px",Z(+a||1.5))}else{b.filter=c;b.margin=0;delete this.attrs.blur}};lb=function(a,b,c,e){var g=ra("group"),d=ra("oval");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";g.coordsize=Da;g.coordorigin=a.coordorigin;g.appendChild(d);d=new ia(d,g,a);d.type="circle";ya(d,{stroke:"#000",fill:"none"});d.attrs.cx=b;d.attrs.cy=c;d.attrs.r=e;d.setBox({x:b-e,y:c-e,width:e*2,height:e*2});a.canvas.appendChild(g);return d};var sb=function(a,
b,c,e,g){return g?f.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a+g,b,c-g*2,g,-g,e-g*2,g*2-c,g*2-e):f.format("M{0},{1}l{2},0,0,{3},{4},0z",a,b,c,e,-c)};mb=function(a,b,c,e,g,d){var k=sb(b,c,e,g,d);a=a.path(k);var o=a.attrs;a.X=o.x=b;a.Y=o.y=c;a.W=o.width=e;a.H=o.height=g;o.r=d;o.path=k;a.type="rect";return a};nb=function(a,b,c,e,g){var d=ra("group"),k=ra("oval");d.style.cssText="position:absolute;left:0;top:0;width:"+
a.width+"px;height:"+a.height+"px";d.coordsize=Da;d.coordorigin=a.coordorigin;d.appendChild(k);k=new ia(k,d,a);k.type="ellipse";ya(k,{stroke:"#000"});k.attrs.cx=b;k.attrs.cy=c;k.attrs.rx=e;k.attrs.ry=g;k.setBox({x:b-e,y:c-g,width:e*2,height:g*2});a.canvas.appendChild(d);return k};ob=function(a,b,c,e,g,d){var k=ra("group"),o=ra("image");k.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";k.coordsize=Da;k.coordorigin=a.coordorigin;o.src=b;k.appendChild(o);o=new ia(o,
k,a);o.type="image";o.attrs.src=b;o.attrs.x=c;o.attrs.y=e;o.attrs.w=g;o.attrs.h=d;o.setBox({x:c,y:e,width:g,height:d});a.canvas.appendChild(k);return o};pb=function(a,b,c,e){var g=ra("group"),d=ra("shape"),k=d.style,o=ra("path"),p=ra("textpath");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";g.coordsize=Da;g.coordorigin=a.coordorigin;o.v=f.format("m{0},{1}l{2},{1}",Z(b*10),Z(c*10),Z(b*10)+1);o.textpathok=true;k.width=a.width;k.height=a.height;p.string=y(e);
p.on=true;d.appendChild(p);d.appendChild(o);g.appendChild(d);k=new ia(p,g,a);k.shape=d;k.textpath=o;k.type="text";k.attrs.text=e;k.attrs.x=b;k.attrs.y=c;k.attrs.w=1;k.attrs.h=1;ya(k,{font:Fa.font,stroke:"none",fill:"#000"});k.setBox();a.canvas.appendChild(g);return k};qb=function(a,b){var c=this.canvas.style;a==+a&&(a+="px");b==+b&&(b+="px");c.width=a;c.height=b;c.clip="rect(0 "+a+" "+b+" 0)";return this};var ra;J.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!J.namespaces.rvml&&
J.namespaces.add("rvml","urn:schemas-microsoft-com:vml");ra=function(a){return J.createElement("<rvml:"+a+' class="rvml">')}}catch(Pb){ra=function(a){return J.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Oa=function(){var a=eb[O](0,arguments),b=a.container,c=a.height,e=a.width,g=a.x;a=a.y;if(!b)throw Error("VML container not found.");var d=new w,k=d.canvas=J.createElement("div"),o=k.style;g=g||0;a=a||0;e=e||512;c=c||342;e==+e&&(e+="px");c==+c&&(c+="px");d.width=1E3;
d.height=1E3;d.coordsize=1E4+da+1E4;d.coordorigin="0 0";d.span=J.createElement("span");d.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";k.appendChild(d.span);o.cssText=f.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,c);if(b==1){J.body.appendChild(k);o.left=g+"px";o.top=a+"px";o.position="absolute"}else b.firstChild?b.insertBefore(k,b.firstChild):b.appendChild(k);
Sa.call(d,d,f.fn);return d};N.clear=function(){this.canvas.innerHTML="";this.span=J.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};N.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=jb(a);return true}}ua=navigator.userAgent.match(/Version\\x2f(.*?)\s/);navigator.vendor=="Apple Computer, Inc."&&(ua&&ua[1]<
4||navigator.platform.slice(0,2)=="iP")?N.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});R.setTimeout(function(){a.remove()})}:N.safari=function(){};var Jb=function(){this.returnValue=false},Kb=function(){return this.originalEvent.preventDefault()},Lb=function(){this.cancelBubble=true},Mb=function(){return this.originalEvent.stopPropagation()},Nb=function(){if(J.addEventListener)return function(a,b,c,e){var g=ca&&ja[b]?ja[b]:b,d=function(k){if(ca&&ja[A](b))for(var o=
0,p=k.targetTouches&&k.targetTouches.length;o<p;o++)if(k.targetTouches[o].target==a){p=k;k=k.targetTouches[o];k.originalEvent=p;k.preventDefault=Kb;k.stopPropagation=Mb;break}return c.call(e,k)};a.addEventListener(g,d,false);return function(){a.removeEventListener(g,d,false);return true}};if(J.attachEvent)return function(a,b,c,e){var g=function(d){d=d||R.event;d.preventDefault=d.preventDefault||Jb;d.stopPropagation=d.stopPropagation||Lb;return c.call(e,d)};a.attachEvent("on"+b,g);return function(){a.detachEvent("on"+
b,g);return true}}}(),va=[],Ua=function(a){for(var b=a.clientX,c=a.clientY,e=J.documentElement.scrollTop||J.body.scrollTop,g=J.documentElement.scrollLeft||J.body.scrollLeft,d,k=va.length;k--;){d=va[k];if(ca)for(var o=a.touches.length,p;o--;){p=a.touches[o];if(p.identifier==d.el._drag.id){b=p.clientX;c=p.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();b+=g;c+=e;d.move&&d.move.call(d.move_scope||d.el,b-d.el._drag.x,c-d.el._drag.y,b,c,a)}},Va=function(a){f.unmousemove(Ua).unmouseup(Va);
for(var b=va.length,c;b--;){c=va[b];c.el._drag={};c.end&&c.end.call(c.end_scope||c.start_scope||c.move_scope||c.el,a)}va=[]};for(ua=ha[l];ua--;)(function(a){f[a]=ia[M][a]=function(b,c){if(f.is(b,"function")){this.events=this.events||[];this.events.push({name:a,f:b,unbind:Nb(this.shape||this.node||J,a,b,c||this)})}return this};f["un"+a]=ia[M]["un"+a]=function(b){for(var c=this.events,e=c[l];e--;)if(c[e].name==a&&c[e].f==b){c[e].unbind();c.splice(e,1);!c.length&&delete this.events;break}return this}})(ha[ua]);
ga.hover=function(a,b,c,e){return this.mouseover(a,c).mouseout(b,e||c)};ga.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};ga.drag=function(a,b,c,e,g,d){this._drag={};this.mousedown(function(k){(k.originalEvent||k).preventDefault();var o=J.documentElement.scrollTop||J.body.scrollTop,p=J.documentElement.scrollLeft||J.body.scrollLeft;this._drag.x=k.clientX+p;this._drag.y=k.clientY+o;this._drag.id=k.identifier;b&&b.call(g||e||this,k.clientX+p,k.clientY+o,k);!va.length&&f.mousemove(Ua).mouseup(Va);
va.push({el:this,move:a,end:c,move_scope:e,start_scope:g,end_scope:d})});return this};ga.undrag=function(a,b,c){for(b=va.length;b--;)va[b].el==this&&va[b].move==a&&va[b].end==c&&va.splice(b++,1);!va.length&&f.unmousemove(Ua).unmouseup(Va)};N.circle=function(a,b,c){return lb(this,a||0,b||0,c||0)};N.rect=function(a,b,c,e,g){return mb(this,a||0,b||0,c||0,e||0,g||0)};N.ellipse=function(a,b,c,e){return nb(this,a||0,b||0,c||0,e||0)};N.path=function(a){a&&!f.is(a,"string")&&!f.is(a[0],S)&&(a+="");return kb(f.format[O](f,
arguments),this)};N.image=function(a,b,c,e,g){return ob(this,a||"about:blank",b||0,c||0,e||0,g||0)};N.text=function(a,b,c){return pb(this,a||0,b||0,y(c))};N.set=function(a){arguments[l]>1&&(a=Array[M].splice.call(arguments,0,arguments[l]));return new ta(a)};N.setSize=qb;N.top=N.bottom=null;N.raphael=f;ga.resetScale=function(){if(this.removed)return this;this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};ga.scale=function(a,b,c,e){if(this.removed)return this;if(a==null&&b==null)return{x:this._.sx,y:this._.sy,
toString:H};b=b||a;!+b&&(b=a);var g,d,k=this.attrs;if(a!=0){var o=this.getBBox(),p=o.x+o.width/2,q=o.y+o.height/2;g=n(a/this._.sx);d=n(b/this._.sy);c=+c||c==0?c:p;e=+e||e==0?e:q;var G=this._.sx>0,K=this._.sy>0;o=~~(a/n(a));var L=~~(b/n(b)),T=g*o,ba=d*L,U=this.node.style;p=c+n(p-c)*T*(p>c==G?1:-1);q=e+n(q-e)*ba*(q>e==K?1:-1);var Q=a*o>b*L?d:g;switch(this.type){case "rect":case "image":var W=k.width*g,ka=k.height*d;this.attr({height:ka,r:k.r*Q,width:W,x:p-W/2,y:q-ka/2});break;case "circle":case "ellipse":this.attr({rx:k.rx*
g,ry:k.ry*d,r:k.r*Q,cx:p,cy:q});break;case "text":this.attr({x:p,y:q});break;case "path":Q=Ra(k.path);var pa=true;G=G?T:g;K=K?ba:d;ba=0;for(T=Q[l];ba<T;ba++){var qa=Q[ba],na=xa.call(qa[0]);if(!(na=="M"&&pa)){pa=false;if(na=="A"){qa[Q[ba][l]-2]*=G;qa[Q[ba][l]-1]*=K;qa[1]*=g;qa[2]*=d;qa[5]=+(o+L?!!+qa[5]:!+qa[5])}else if(na=="H"){na=1;for(var za=qa[l];na<za;na++)qa[na]*=G}else if(na=="V"){na=1;for(za=qa[l];na<za;na++)qa[na]*=K}else{na=1;for(za=qa[l];na<za;na++)qa[na]*=na%2?G:K}}}d=Ja(Q);g=p-d.x-d.width/
2;d=q-d.y-d.height/2;Q[0][1]+=g;Q[0][2]+=d;this.attr({path:Q})}if(this.type in{text:1,image:1}&&(o!=1||L!=1))if(this.transformations){this.transformations[2]="scale(".concat(o,",",L,")");this.node.setAttribute("transform",this.transformations[B](da));g=o==-1?-k.x-(W||0):k.x;d=L==-1?-k.y-(ka||0):k.y;this.attr({x:g,y:d});k.fx=o-1;k.fy=L-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+".Matrix(M11=".concat(o,", M12=0, M21=0, M22=",L,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");
U.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}else if(this.transformations){this.transformations[2]="";this.node.setAttribute("transform",this.transformations[B](da));k.fx=0;k.fy=0}else{this.node.filterMatrix="";U.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}k.scale=[a,b,c,e][B](da);this._.sx=a;this._.sy=b}return this};ga.clone=function(){if(this.removed)return null;var a=this.attr();delete a.scale;delete a.translation;return this.paper[this.type]().attr(a)};
var Wa={},Ma=function(a,b,c,e,g,d,k,o,p){var q=0,G=100,K=[a,b,c,e,g,d,k,o].join(),L=Wa[K],T,ba;!L&&(Wa[K]=L={data:[]});L.timer&&clearTimeout(L.timer);L.timer=setTimeout(function(){delete Wa[K]},2E3);if(p!=null)G=~~Ma(a,b,c,e,g,d,k,o)*10;for(var U=0;U<G+1;U++){if(L.data[p]>U)ba=L.data[U*G];else{ba=f.findDotsAtSegment(a,b,c,e,g,d,k,o,U/G);L.data[U]=ba}U&&(q+=r(r(T.x-ba.x,2)+r(T.y-ba.y,2),0.5));if(p!=null&&q>=p)return ba;T=ba}if(p==null)return q};ha=function(a,b){return function(c,e,g){c=Ia(c);for(var d,
k,o,p,q="",G={},K=0,L=0,T=c.length;L<T;L++){o=c[L];if(o[0]=="M"){d=+o[1];k=+o[2]}else{p=Ma(d,k,o[1],o[2],o[3],o[4],o[5],o[6]);if(K+p>e){if(b&&!G.start){d=Ma(d,k,o[1],o[2],o[3],o[4],o[5],o[6],e-K);q+=["C",d.start.x,d.start.y,d.m.x,d.m.y,d.x,d.y];if(g)return q;G.start=q;q=["M",d.x,d.y+"C",d.n.x,d.n.y,d.end.x,d.end.y,o[5],o[6]][B]();K+=p;d=+o[5];k=+o[6];continue}if(!a&&!b){d=Ma(d,k,o[1],o[2],o[3],o[4],o[5],o[6],e-K);return{x:d.x,y:d.y,alpha:d.alpha}}}K+=p;d=+o[5];k=+o[6]}q+=o}G.end=q;d=a?K:b?G:f.findDotsAtSegment(d,
k,o[1],o[2],o[3],o[4],o[5],o[6],1);d.alpha&&(d={x:d.x,y:d.y,alpha:d.alpha});return d}};var tb=ha(1),Na=ha(),Xa=ha(0,1);ga.getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength)return this.node.getTotalLength();return tb(this.attrs.path)}};ga.getPointAtLength=function(a){if(this.type=="path")return Na(this.attrs.path,a)};ga.getSubpath=function(a,b){if(this.type=="path"){if(n(this.getTotalLength()-b)<"1e-6")return Xa(this.attrs.path,a).end;var c=Xa(this.attrs.path,b,1);return a?
Xa(c,a).end:c}};f.easing_formulas={linear:function(a){return a},"<":function(a){return r(a,3)},">":function(a){return r(a-1,3)+1},"<>":function(a){a*=2;if(a<1)return r(a,3)/2;a-=2;return(r(a,3)+2)/2},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){if(a==0||a==1)return a;return r(2,-10*a)*E.sin((a-0.075)*2*C/0.3)+1},bounce:function(a){if(a<1/2.75)a*=7.5625*a;else if(a<2/2.75){a-=1.5/2.75;a=7.5625*a*a+0.75}else if(a<2.5/
2.75){a-=2.25/2.75;a=7.5625*a*a+0.9375}else{a-=2.625/2.75;a=7.5625*a*a+0.984375}return a}};var wa=[],ub=function(){for(var a=+new Date,b=0;b<wa[l];b++){var c=wa[b];if(!(c.stop||c.el.removed)){var e=a-c.start,g=c.ms,d=c.easing,k=c.from,o=c.diff,p=c.to,q=c.t,G=c.el;c={};var K;if(e<g){e=d(e/g);for(var L in k)if(k[A](L)){switch(Pa[L]){case "along":K=e*g*o[L];p.back&&(K=p.len-K);d=Na(p[L],K);G.translate(o.sx-o.x||0,o.sy-o.y||0);o.x=d.x;o.y=d.y;G.translate(d.x-o.sx,d.y-o.sy);p.rot&&G.rotate(o.r+d.alpha,
d.x,d.y);break;case P:K=+k[L]+e*g*o[L];break;case "colour":K="rgb("+[Ya(Z(k[L].r+e*g*o[L].r)),Ya(Z(k[L].g+e*g*o[L].g)),Ya(Z(k[L].b+e*g*o[L].b))][B](",")+")";break;case "path":K=[];d=0;for(var T=k[L][l];d<T;d++){K[d]=[k[L][d][0]];for(var ba=1,U=k[L][d][l];ba<U;ba++)K[d][ba]=+k[L][d][ba]+e*g*o[L][d][ba];K[d]=K[d][B](da)}K=K[B](da);break;case "csv":switch(L){case "translation":K=e*g*o[L][0]-q.x;d=e*g*o[L][1]-q.y;q.x+=K;q.y+=d;K=K+da+d;break;case "rotation":K=+k[L][0]+e*g*o[L][0];k[L][1]&&(K+=","+k[L][1]+
","+k[L][2]);break;case "scale":K=[+k[L][0]+e*g*o[L][0],+k[L][1]+e*g*o[L][1],2 in p[L]?p[L][2]:"",3 in p[L]?p[L][3]:""][B](da);break;case "clip-rect":K=[];for(d=4;d--;)K[d]=+k[L][d]+e*g*o[L][d]}break;default:T=[].concat(k[L]);K=[];for(d=G.paper.customAttributes[L].length;d--;)K[d]=+T[d]+e*g*o[L][d]}c[L]=K}G.attr(c);G._run&&G._run.call(G)}else{if(p.along){d=Na(p.along,p.len*!p.back);G.translate(o.sx-(o.x||0)+d.x-o.sx,o.sy-(o.y||0)+d.y-o.sy);p.rot&&G.rotate(o.r+d.alpha,d.x,d.y)}(q.x||q.y)&&G.translate(-q.x,
-q.y);p.scale&&(p.scale+="");G.attr(p);wa.splice(b--,1)}}}f.svg&&G&&G.paper&&G.paper.safari();wa[l]&&setTimeout(ub)},Ob=function(a,b,c,e,g){var d=c-e;b.timeouts.push(setTimeout(function(){f.is(g,"function")&&g.call(b);b.animate(a,d,a.easing)},e))},Ya=function(a){return F(h(a,255),0)},La=function(a,b){if(a==null)return{x:this._.tx,y:this._.ty,toString:H};this._.tx+=+a;this._.ty+=+b;switch(this.type){case "circle":case "ellipse":this.attr({cx:+a+this.attrs.cx,cy:+b+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+a+
this.attrs.x,y:+b+this.attrs.y});break;case "path":var c=Ra(this.attrs.path);c[0][1]+=+a;c[0][2]+=+b;this.attr({path:c})}return this};ga.animateWith=function(a,b,c,e,g){for(var d=0,k=wa.length;d<k;d++)wa[d].el.id==a.id&&(b.start=wa[d].start);return this.animate(b,c,e,g)};ga.animateAlong=u();ga.animateAlongBack=u(1);ga.onAnimation=function(a){this._run=a||0;return this};ga.animate=function(a,b,c,e){var g=this;g.timeouts=g.timeouts||[];if(f.is(c,"function")||!c)e=c||null;if(g.removed){e&&e.call(g);
return g}var d={},k={},o=false,p={},q;for(q in a)if(a[A](q))if(Pa[A](q)||g.paper.customAttributes[A](q)){o=true;d[q]=g.attr(q);d[q]==null&&(d[q]=Fa[q]);k[q]=a[q];switch(Pa[q]){case "along":var G=tb(a[q]),K=Na(a[q],G*!!a.back),L=g.getBBox();p[q]=G/b;p.tx=L.x;p.ty=L.y;p.sx=K.x;p.sy=K.y;k.rot=a.rot;k.back=a.back;k.len=G;a.rot&&(p.r=V(g.rotate())||0);break;case P:p[q]=(k[q]-d[q])/b;break;case "colour":d[q]=f.getRGB(d[q]);G=f.getRGB(k[q]);p[q]={r:(G.r-d[q].r)/b,g:(G.g-d[q].g)/b,b:(G.b-d[q].b)/b};break;
case "path":G=Ia(d[q],k[q]);d[q]=G[0];L=G[1];p[q]=[];G=0;for(K=d[q][l];G<K;G++){p[q][G]=[0];for(var T=1,ba=d[q][G][l];T<ba;T++)p[q][G][T]=(L[G][T]-d[q][G][T])/b}break;case "csv":K=y(a[q]).split(z);L=y(d[q]).split(z);switch(q){case "translation":d[q]=[0,0];p[q]=[K[0]/b,K[1]/b];break;case "rotation":d[q]=L[1]==K[1]&&L[2]==K[2]?L:[0,K[1],K[2]];p[q]=[(K[0]-d[q][0])/b,0,0];break;case "scale":a[q]=K;d[q]=y(d[q]).split(z);p[q]=[(K[0]-d[q][0])/b,(K[1]-d[q][1])/b,0,0];break;case "clip-rect":d[q]=y(d[q]).split(z);
p[q]=[];for(G=4;G--;)p[q][G]=(K[G]-d[q][G])/b}k[q]=K;break;default:K=[].concat(a[q]);L=[].concat(d[q]);p[q]=[];for(G=g.paper.customAttributes[q][l];G--;)p[q][G]=((K[G]||0)-(L[G]||0))/b}}if(o){q=f.easing_formulas[c];if(!q)if((q=y(c).match(sa))&&q[l]==5){var U=q;q=function(ka){return m(ka,+U[1],+U[2],+U[3],+U[4],b)}}else q=function(ka){return ka};wa.push({start:a.start||+new Date,ms:b,easing:q,from:d,diff:p,to:k,el:g,t:{x:0,y:0}});f.is(e,"function")&&(g._ac=setTimeout(function(){e.call(g)},b));wa[l]==
1&&setTimeout(ub)}else{c=[];var Q,W;for(W in a)if(a[A](W)&&vb.test(W)){q={value:a[W]};W=="from"&&(W=0);W=="to"&&(W=100);q.key=oa(W,10);c.push(q)}c.sort(Ab);c[0].key&&c.unshift({key:0,value:g.attrs});G=0;for(K=c[l];G<K;G++)Ob(c[G].value,g,b/100*c[G].key,b/100*(c[G-1]&&c[G-1].key||0),c[G-1]&&c[G-1].value.callback);(Q=c[c[l]-1].value.callback)&&g.timeouts.push(setTimeout(function(){Q.call(g)},b))}return this};ga.stop=function(){for(var a=0;a<wa.length;a++)wa[a].el.id==this.id&&wa.splice(a--,1);a=0;for(ii=
this.timeouts&&this.timeouts.length;a<ii;a++)clearTimeout(this.timeouts[a]);this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};ga.translate=function(a,b){return this.attr({translation:a+" "+b})};ga[X]=function(){return"Rapha\u00ebl\u2019s object"};f.ae=wa;var ta=function(a){this.items=[];this[l]=0;this.type="set";if(a)for(var b=0,c=a[l];b<c;b++)if(a[b]&&(a[b].constructor==ia||a[b].constructor==ta)){this[this.items[l]]=this.items[this.items[l]]=a[b];this[l]++}};ta[M][Y]=function(){for(var a,
b,c=0,e=arguments[l];c<e;c++)if((a=arguments[c])&&(a.constructor==ia||a.constructor==ta)){b=this.items[l];this[b]=this.items[b]=a;this[l]++}return this};ta[M].pop=function(){delete this[this[l]--];return this.items.pop()};for(var Za in ga)ga[A](Za)&&(ta[M][Za]=function(a){return function(){for(var b=0,c=this.items[l];b<c;b++)this.items[b][a][O](this.items[b],arguments);return this}}(Za));ta[M].attr=function(a,b){if(a&&f.is(a,S)&&f.is(a[0],"object"))for(var c=0,e=a[l];c<e;c++)this.items[c].attr(a[c]);
else{c=0;for(e=this.items[l];c<e;c++)this.items[c].attr(a,b)}return this};ta[M].animate=function(a,b,c,e){(f.is(c,"function")||!c)&&(e=c||null);var g=this.items[l],d=g,k,o=this,p;e&&(p=function(){!--g&&e.call(o)});c=f.is(c,"string")?c:p;for(k=this.items[--d].animate(a,b,c,p);d--;)this.items[d]&&!this.items[d].removed&&this.items[d].animateWith(k,a,b,c,p);return this};ta[M].insertAfter=function(a){for(var b=this.items[l];b--;)this.items[b].insertAfter(a);return this};ta[M].getBBox=function(){for(var a=
[],b=[],c=[],e=[],g=this.items[l];g--;){var d=this.items[g].getBBox();a[Y](d.x);b[Y](d.y);c[Y](d.x+d.width);e[Y](d.y+d.height)}a=h[O](0,a);b=h[O](0,b);return{x:a,y:b,width:F[O](0,c)-a,height:F[O](0,e)-b}};ta[M].clone=function(a){a=new ta;for(var b=0,c=this.items[l];b<c;b++)a[Y](this.items[b].clone());return a};f.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"],e;for(e in a.face)a.face[A](e)&&(b.face[e]=a.face[e]);this.fonts[c]?
this.fonts[c][Y](b):this.fonts[c]=[b];if(!a.svg){b.face["units-per-em"]=oa(a.face["units-per-em"],10);for(var g in a.glyphs)if(a.glyphs[A](g)){c=a.glyphs[g];b.glyphs[g]={w:c.w,k:{},d:c.d&&"M"+c.d.replace(/[mlcxtrv]/g,function(k){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[k]||"M"})+"z"};if(c.k)for(var d in c.k)c[A](d)&&(b.glyphs[g].k[d]=c.k[d])}}return a};N.getFont=function(a,b,c,e){e=e||"normal";c=c||"normal";b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400;if(f.fonts){var g=f.fonts[a];
if(!g){a=RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var d in f.fonts)if(f.fonts[A](d))if(a.test(d)){g=f.fonts[d];break}}var k;if(g){d=0;for(a=g[l];d<a;d++){k=g[d];if(k.face["font-weight"]==b&&(k.face["font-style"]==c||!k.face["font-style"])&&k.face["font-stretch"]==e)break}}return k}};N.print=function(a,b,c,e,g,d,k){d=d||"middle";k=F(h(k||0,1),-1);var o=this.set(),p=y(c).split(""),q=0;f.is(e,c)&&(e=this.getFont(e));if(e){c=(g||16)/e.face["units-per-em"];var G=e.face.bbox.split(z);
g=+G[0];d=+G[1]+(d=="baseline"?G[3]-G[1]+ +e.face.descent:(G[3]-G[1])/2);G=0;for(var K=p[l];G<K;G++){var L=G&&e.glyphs[p[G-1]]||{},T=e.glyphs[p[G]];q+=G?(L.w||e.w)+(L.k&&L.k[p[G]]||0)+e.w*k:0;T&&T.d&&o[Y](this.path(T.d).attr({fill:"#000",stroke:"none",translation:[q,0]}))}o.scale(c,c,g,d).translate(a-g,b-d)}return o};f.format=function(a,b){var c=f.is(b,S)?[0].concat(b):arguments;a&&f.is(a,"string")&&c[l]-1&&(a=a.replace(I,function(e,g){return c[++g]==null?"":c[g]}));return a||""};f.ninja=function(){j.was?
R.Raphael=j.is:delete Raphael;return f};f.el=ga;f.st=ta[M];j.was?R.Raphael=f:Raphael=f})();(function(){function f(B){return(B+"").replace(ca,"")}function D(B,l,s){for(var E=B.length;E<l;E++)B=s?"0"+B:B+"0";return B}function x(B){return ja.call(B)==="[object Array]"}function H(B,l){if(B.indexOf)return B.indexOf(l);for(var s=0,E=B.length;s<E;s++)if(B[s]===l)return s;return-1}function u(B,l,s){var E=l["-"];l=l["+"];var F;switch(s){case "n -":E=" "+E;l=" "+l;case "n-":if(B.substr(B.length-E.length)===E)F=["-",B.substr(0,B.length-E.length)];else if(B.substr(B.length-l.length)===l)F=["+",B.substr(0,
B.length-l.length)];break;case "- n":E+=" ";l+=" ";case "-n":if(B.indexOf(E)===0)F=["-",B.substr(E.length)];else if(B.indexOf(l)===0)F=["+",B.substr(l.length)];break;case "(n)":if(B.indexOf("(")===0&&B.substr(B.length-1)===")")F=["-",B.substr(1,B.length-2)]}return F||["",B]}function m(B,l){if(!l)return 0;for(var s,E=B.getTime(),F=0,h=l.length;F<h;F++){s=l[F].start;if(s===null||E>=s)return F}return 0}function z(B){return B.split("\u00a0").join(" ").toUpperCase()}function v(B){for(var l=[],s=0,E=B.length;s<
E;s++)l[s]=z(B[s]);return l}function I(B,l,s,E){B=B.getFullYear();if(!E&&l.eras)B-=l.eras[s].offset;return B}function M(B,l){for(var s=0,E=false,F=0,h=B.length;F<h;F++){var n=B.charAt(F);switch(n){case "'":if(E)l.push("'");else s++;E=false;break;case "\\":E&&l.push("\\");E=!E;break;default:l.push(n);E=false}}return s}function A(B,l){l=l||"F";var s;s=B.patterns;var E=l.length;if(E===1){s=s[l];if(!s)throw"Invalid date format string '"+l+"'.";l=s}else if(E===2&&l.charAt(0)==="%")l=l.charAt(1);return l}
function J(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g}function R(B,l,s){B=f(B);s=s.calendar;a:{var E=s._parseRegExp;if(E){var F=E[l];if(F){l=F;break a}}else s._parseRegExp=E={};F=A(s,l).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");for(var h=["^"],n=[],r=0,C=0,P=J(),S;(S=P.exec(F))!==null;){var X=F.slice(r,S.index);r=P.lastIndex;C+=M(X,h);if(C%2)h.push(S[0]);else{X=S[0];var la=X.length;switch(X){case "dddd":case "ddd":case "MMMM":case "MMM":case "gg":case "g":X=
"(\\D+)";break;case "tt":case "t":X="(\\D*)";break;case "yyyy":case "fff":case "ff":case "f":X="(\\d{"+la+"})";break;case "dd":case "d":case "MM":case "M":case "yy":case "y":case "HH":case "H":case "hh":case "h":case "mm":case "m":case "ss":case "s":X="(\\d\\d?)";break;case "zzz":X="([+-]?\\d\\d?:\\d{2})";break;case "zz":case "z":X="([+-]?\\d\\d?)";break;case "/":X="(\\"+s["/"]+")";break;default:throw"Invalid date format pattern '"+X+"'.";}X&&h.push(X);n.push(S[0])}}M(F.slice(r),h);h.push("$");F=
{regExp:h.join("").replace(/\s+/g,"\\s+"),groups:n};l=E[l]=F}C=RegExp(l.regExp).exec(B);if(C===null)return null;P=l.groups;var Y=B=null,ea=null,ma=l=null;n=h=F=E=0;S=null;r=false;X=0;for(la=P.length;X<la;X++){var fa=C[X+1];if(fa){var sa=P[X],Z=sa.length,V=parseInt(fa,10);switch(sa){case "dd":case "d":l=V;if(l<1||l>31)return null;break;case "MMM":case "MMMM":ea=s;Z=Z===3;sa=ea.months;var oa=ea.monthsGenitive||ea.months,xa=ea._upperMonths;V=ea._upperMonthsGen;if(!xa){ea._upperMonths=xa=[v(sa.names),
v(sa.namesAbbr)];ea._upperMonthsGen=V=[v(oa.names),v(oa.namesAbbr)]}fa=z(fa);ea=H(Z?xa[1]:xa[0],fa);if(ea<0)ea=H(Z?V[1]:V[0],fa);if(ea<0||ea>11)return null;break;case "M":case "MM":ea=V-1;if(ea<0||ea>11)return null;break;case "y":case "yy":case "yyyy":if(Z<4){Y=s;fa=V;V=new Date;sa=m(V);if(fa<100){Z=Y.twoDigitYearMax;Z=typeof Z==="string"?(new Date).getFullYear()%100+parseInt(Z,10):Z;Y=I(V,Y,sa);fa+=Y-Y%100;if(fa>Z)fa-=100}Y=fa}else Y=V;if(Y<0||Y>9999)return null;break;case "h":case "hh":E=V;if(E===
12)E=0;if(E<0||E>11)return null;break;case "H":case "HH":E=V;if(E<0||E>23)return null;break;case "m":case "mm":F=V;if(F<0||F>59)return null;break;case "s":case "ss":h=V;if(h<0||h>59)return null;break;case "tt":case "t":r=s.PM&&(fa===s.PM[0]||fa===s.PM[1]||fa===s.PM[2]);if(!r&&(!s.AM||fa!==s.AM[0]&&fa!==s.AM[1]&&fa!==s.AM[2]))return null;break;case "f":case "ff":case "fff":n=V*Math.pow(10,3-Z);if(n<0||n>999)return null;break;case "ddd":case "dddd":ma=fa;fa=Z===3;V=void 0;V=s.days;Z=s._upperDays;if(!Z)s._upperDays=
Z=[v(V.names),v(V.namesAbbr),v(V.namesShort)];ma=z(ma);if(fa){V=H(Z[1],ma);if(V===-1)V=H(Z[2],ma)}else V=H(Z[0],ma);ma=V;if(ma<0||ma>6)return null;break;case "zzz":Z=fa.split(/:/);if(Z.length!==2)return null;S=parseInt(Z[0],10);if(S<-12||S>13)return null;Z=parseInt(Z[1],10);if(Z<0||Z>59)return null;S=S*60+(fa.indexOf("-")===0?-Z:Z);break;case "z":case "zz":S=V;if(S<-12||S>13)return null;S*=60;break;case "g":case "gg":if(!fa||!s.eras)return null;fa=f(fa.toLowerCase());Z=0;for(V=s.eras.length;Z<V;Z++)if(fa===
s.eras[Z].name.toLowerCase()){B=Z;break}if(B===null)return null}}}C=new Date;P=(X=s.convert)?X.fromGregorian(C)[0]:C.getFullYear();if(Y===null)Y=P;else if(s.eras)Y+=s.eras[B||0].offset;if(ea===null)ea=0;if(l===null)l=1;if(X){C=X.toGregorian(Y,ea,l);if(C===null)return null}else{C.setFullYear(Y,ea,l);if(C.getDate()!==l)return null;if(ma!==null&&C.getDay()!==ma)return null}if(r&&E<12)E+=12;C.setHours(E,F,h,n);if(S!==null){s=C.getMinutes()-(S+C.getTimezoneOffset());C.setHours(C.getHours()+parseInt(s/
60,10),s%60)}return C}function j(B,l,s){function E(Z,V){var oa;oa=Z+"";if(V>1&&oa.length<V){oa=X[V-2]+oa;return oa.substr(oa.length-V,V)}return oa}function F(){if(la||Y)return la;la=ea.test(l);Y=true;return la}function h(Z,V){if(sa)return sa[V];switch(V){case 0:return Z.getFullYear();case 1:return Z.getMonth();case 2:return Z.getDate()}}var n=s.calendar,r=n.convert;if(!l||!l.length||l==="i"){if(s&&s.name.length)if(r)s=j(B,n.patterns.F,s);else{s=new Date(B.getTime());var C=m(B,n.eras);s.setFullYear(I(B,
n,C));s=s.toLocaleString()}else s=B.toString();return s}C=n.eras;var P=l==="s";l=A(n,l);s=[];var S,X=["0","00","000"],la,Y,ea=/([^d]|^)(d|dd)([^d]|$)/g,ma=0,fa=J(),sa;if(!P&&r)sa=r.fromGregorian(B);for(;;){S=fa.lastIndex;r=fa.exec(l);S=l.slice(S,r?r.index:l.length);ma+=M(S,s);if(!r)break;if(ma%2)s.push(r[0]);else{S=r[0];r=S.length;switch(S){case "ddd":case "dddd":names=r===3?n.days.namesAbbr:n.days.names;s.push(names[B.getDay()]);break;case "d":case "dd":la=true;s.push(E(h(B,2),r));break;case "MMM":case "MMMM":S=
h(B,1);s.push(n.monthsGenitive&&F()?n.monthsGenitive[r===3?"namesAbbr":"names"][S]:n.months[r===3?"namesAbbr":"names"][S]);break;case "M":case "MM":s.push(E(h(B,1)+1,r));break;case "y":case "yy":case "yyyy":S=sa?sa[0]:I(B,n,m(B,C),P);if(r<4)S%=100;s.push(E(S,r));break;case "h":case "hh":S=B.getHours()%12;if(S===0)S=12;s.push(E(S,r));break;case "H":case "HH":s.push(E(B.getHours(),r));break;case "m":case "mm":s.push(E(B.getMinutes(),r));break;case "s":case "ss":s.push(E(B.getSeconds(),r));break;case "t":case "tt":S=
B.getHours()<12?n.AM?n.AM[0]:" ":n.PM?n.PM[0]:" ";s.push(r===1?S.charAt(0):S);break;case "f":case "ff":case "fff":s.push(E(B.getMilliseconds(),3).substr(0,r));break;case "z":case "zz":S=B.getTimezoneOffset()/60;s.push((S<=0?"+":"-")+E(Math.floor(Math.abs(S)),r));break;case "zzz":S=B.getTimezoneOffset()/60;s.push((S<=0?"+":"-")+E(Math.floor(Math.abs(S)),2)+":"+E(Math.abs(B.getTimezoneOffset()%60),2));break;case "g":case "gg":n.eras&&s.push(n.eras[m(B,C)].name);break;case "/":s.push(n["/"]);break;default:throw"Invalid date format pattern '"+
S+"'.";}}}return s.join("")}var w={},N={en:{}};N["default"]=N.en;w.extend=function(B){for(var l=arguments[1]||{},s=2,E=arguments.length;s<E;s++){var F=arguments[s];if(F)for(var h in F){var n=F[h];if(typeof n!=="undefined")if(B&&(ja.call(n)==="[object Object]"||x(n))){var r=l[h];r=r&&(ja.call(r)==="[object Object]"||x(r))?r:x(n)?[]:{};l[h]=this.extend(true,r,n)}else l[h]=n}}return l};w.findClosestCulture=function(B){var l;if(!B)return this.culture||this.cultures["default"];if(ja.call(B)==="[object String]")B=
B.split(",");if(x(B)){for(var s,E=this.cultures,F=B,h=F.length,n=[],r=0;r<h;r++){B=f(F[r]);B=B.split(";");s=f(B[0]);if(B.length===1)B=1;else{B=f(B[1]);if(B.indexOf("q=")===0){B=B.substr(2);B=parseFloat(B,10);B=isNaN(B)?0:B}else B=1}n.push({lang:s,pri:B})}n.sort(function(C,P){return C.pri<P.pri?1:-1});for(r=0;r<h;r++){s=n[r].lang;if(l=E[s])return l}for(r=0;r<h;r++){s=n[r].lang;do{F=s.lastIndexOf("-");if(F===-1)break;s=s.substr(0,F);if(l=E[s])return l}while(1)}}else if(typeof B==="object")return B;
return l||null};w.preferCulture=function(B){this.culture=this.findClosestCulture(B)||this.cultures["default"]};w.localize=function(B,l,s){if(typeof l==="string"){l=l||"default";l=this.cultures[l]||{name:l}}var E=N[l.name];if(arguments.length===3){E||(E=N[l.name]={});E[B]=s}else{if(E)s=E[B];if(typeof s==="undefined"){if(E=N[l.language])s=E[B];if(typeof s==="undefined")s=N["default"][B]}}return typeof s==="undefined"?null:s};w.format=function(B,l,s){s=this.findClosestCulture(s);if(typeof B==="number"){var E=
B;if(!l||l==="i")B=s.name.length?E.toLocaleString():E.toString();else{l=l||"D";s=s.numberFormat;B=Math.abs(E);var F=-1;if(l.length>1)F=parseInt(l.slice(1),10);var h=l.charAt(0).toUpperCase(),n;switch(h){case "D":l="n";if(F!==-1)B=D(""+B,F,true);if(E<0)B=-B;break;case "N":n=s;case "C":n=n||s.currency;case "P":n=n||s.percent;l=E<0?n.pattern[0]:n.pattern[1]||"n";if(F===-1)F=n.decimals;b:{var r=B*(h==="P"?100:1);h=n;n=h.groupSizes;B=n[0];E=1;var C=Math.pow(10,F),P=Math.round(r*C)/C;isFinite(P)||(P=r);
C="";C=(P+"").split(/e/i);P=C.length>1?parseInt(C[1],10):0;r=C[0];C=r.split(".");r=C[0];C=C.length>1?C[1]:"";if(P>0){C=D(C,P,false);r+=C.slice(0,P);C=C.substr(P)}else if(P<0){P=-P;r=D(r,P+1);C=r.slice(-P,r.length)+C;r=r.slice(0,-P)}C=F>0?h["."]+(C.length>F?C.slice(0,F):D(C,F)):"";F=r.length-1;h=h[","];for(P="";F>=0;){if(B===0||B>F){B=r.slice(0,F+1)+(P.length?h+P+C:C);break b}P=r.slice(F-B+1,F+1)+(P.length?h+P:"");F-=B;if(E<n.length){B=n[E];E++}}B=r.slice(0,F+1)+h+P+C}break;default:throw"Bad number format specifier: "+
h;}n=/n|\$|-|%/g;for(E="";;){F=n.lastIndex;h=n.exec(l);E+=l.slice(F,h?h.index:l.length);if(!h)break;switch(h[0]){case "n":E+=B;break;case "$":E+=s.currency.symbol;break;case "-":if(/[1-9]/.test(B))E+=s["-"];break;case "%":E+=s.percent.symbol}}B=E}}else if(B instanceof Date)B=j(B,l,s);return B};w.parseInt=function(B,l,s){return Math.floor(this.parseFloat(B,l,s))};w.parseFloat=function(B,l,s){s=this.findClosestCulture(s);var E=NaN;s=s.numberFormat;B=f(B);if(da.test(B))E=parseFloat(B,l);else if(!l&&
y.test(B))E=parseInt(B,16);else{var F=u(B,s,s.pattern[0]);l=F[0];F=F[1];if(l===""&&s.pattern[0]!=="-n"){F=u(B,s,"-n");l=F[0];F=F[1]}l=l||"+";var h;B=F.indexOf("e");if(B<0)B=F.indexOf("E");if(B<0){h=F;B=null}else{h=F.substr(0,B);B=F.substr(B+1)}var n=s["."],r=h.indexOf(n);if(r<0){F=h;h=null}else{F=h.substr(0,r);h=h.substr(r+n.length)}n=s[","];F=F.split(n).join("");r=n.replace(/\u00A0/g," ");if(n!==r)F=F.split(r).join("");l+=F;if(h!==null)l+="."+h;if(B!==null){s=u(B,s,"-n");l+="e"+(s[0]||"+")+s[1]}if(ha.test(l))E=
parseFloat(l)}return E};w.parseDate=function(B,l,s){s=this.findClosestCulture(s);var E,F;if(l){if(typeof l==="string")l=[l];if(l.length){F=0;for(var h=l.length;F<h;F++){var n=l[F];if(n)if(E=R(B,n,s))break}}}else{l=s.calendar.patterns;for(F in l)if(E=R(B,l[F],s))break}return E||null};var O=w.cultures=w.cultures||{};O=O["default"]=O.en=w.extend(true,{name:"en",englishName:"English",nativeName:"English",isRTL:false,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],
"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April",
"May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}}},O.en);O.calendar=O.calendar||
O.calendars.standard;var ca=/^\s+|\s+$/g,da=/^[+-]?infinity$/i,y=/^0x[a-f0-9]+$/i,ha=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,ja=Object.prototype.toString;jQuery.findClosestCulture=w.findClosestCulture;jQuery.culture=w.culture;jQuery.cultures=w.cultures;jQuery.preferCulture=w.preferCulture;jQuery.localize=w.localize;jQuery.format=w.format;jQuery.parseInt=w.parseInt;jQuery.parseFloat=w.parseFloat;jQuery.parseDate=w.parseDate})();(function(f){var D=f({});f.subscribe=function(){D.bind.apply(D,arguments)};f.unsubscribe=function(){D.unbind.apply(D,arguments)};f.publish=function(){D.trigger.apply(D,arguments)}})(jQuery);var timeglider={version:"0.0.1"};
timeglider.TGDate={monthNamesFull:["","January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesAbbr:["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsDayNums:[0,31,28,31,30,31,30,31,31,30,31,30,31,29],monthNamesLet:["","J","F","M","A","M","J","J","A","S","O","N","D"],dayNamesFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri",
"Sat"],dayNamesLet:["S","M","T","W","T","F","S"],units:["da","mo","ye","de","ce","thou"],isLeapYear:function(f){return f%400==0?true:f%100==0?false:f%4==0?true:false},boil:function(f){return parseInt(f,10)},getTimeUnitSerial:function(f,D){switch(D){case "ye":return f.ye;case "mo":return this.getMonthNum(f);case "da":return this.getRataDie(f);case "de":return Math.ceil(f.ye/10);case "ce":return Math.ceil(f.ye/100);case "thou":return Math.ceil(f.ye/1E3);case "tenthou":return Math.ceil(f.ye/1E4);case "hundredthou":return Math.ceil(f.ye/
1E5);case "mill":return Math.ceil(f.ye/1E6);case "tenmill":return Math.ceil(f.ye/1E7);case "hundredmill":return Math.ceil(f.ye/1E8);case "bill":return Math.ceil(f.ye/1E9)}},validateEventDates:function(f,D){var x,H;if(RegExp(/[0-9-: ]/).test(f))x=this.makeDateObject(f);else{trace("start:"+f);x="false"}H=this.makeDateObject(D);return{s:x,e:H}},makeDateObject:function(f){f=jQuery.trim(f);f=f.replace(",","");var D;f.substr(0,1)=="-"?D=1:D=0;D==1&&(f=f.substr(1));f=f.replace(/[^0-9]/g,"-");f=f.split("-");
D={ye:this.boil(f[0]),mo:this.boil(f[1]),da:this.boil(f[2]),ho:this.boil(f[3]),mi:this.boil(f[4]),se:this.boil(f[5]),bce:D};D.rd=this.getRataDie(D);D.sec=this.getSec(D);return D},getMonthDays:function(f,D){return this.isLeapYear(D)==true&&f==2?29:this.monthsDayNums[f]},isValidDate:function(f,D,x){var H=this.getMonthDays(D,f);if(x>H||x<=0)return false;if(D>12||D<0)return false;if(f==0)return false;if(typeof f!="number"||String(f).match(/([0-9]+)/)==false)return false;return true},formatFocusDate:function(f){return f.ye+
"-"+f.mo+"-"+f.da+" "+f.ho+":"+f.mi+":00"},getSec:function(f){var D=Math.abs(f.rd)*86400,x=f.ho*3600,H=(f.mi-1)*60,u=1;if(f.rd<0)u=-1;return u*(D+x+H)},twentyFourToTwelve:function(f){var D={};D.ye=f.ye;D.mo=f.mo;D.da=f.da;D.ho=f.ho;D.mi=f.mi;D.ampm="am";if(f.ho)if(f.ho>=12){D.ampm="pm";D.ho=f.ho>12?f.ho-12:12}else if(f.ho==0){D.ho=12;D.ampm="am"}else D.ho=f.ho;else{D.ho=12;D.mi=0;D.ampm="am"}return D},getMonthNum:function(f){return f.ye>0?(f.ye-1)*12+f.mo:this.getBCMonthNum(f)},getMonthAdj:function(f,
D){var x=this.getDateFromMonthNum(f);switch(x.mo){case 1:case 3:case 5:case 7:case 8:case 10:case 12:x=Math.floor(D+D/28*3);return{width:x,days:31};case 2:if(this.isLeapYear(x.ye)==true){x=Math.floor(D+D/28);return{width:x,days:29}}else return{width:D,days:28};default:x=Math.floor(D+D/28*2);return{width:x,days:30}}},getBCMonthNum:function(f){return-1*((Math.abs(f.ye)-1)*12+(12-(f.mo-1)))},getDateFromMonthNum:function(f){var D=0;if(f>0){D=f%12;if(D==0)D=12;f=Math.ceil(f/12)}else{D=Math.abs(f)%12;D=
12-D+1;if(D==13)D=1;f=-1*Math.ceil(Math.abs(f)/12)}return{ye:f,mo:D}},getMonthWidth:function(f,D,x){D=t/28;var H;switch(f){case 1:case 3:case 5:case 7:case 8:case 10:case 12:H=3;break;case 4:case 6:case 9:case 11:H=2;break;case 2:H=this.isLeapYear(yr)==true?1:0}return{width:Math.floor(x+D*H),numDays:28+H}},getRataDie:function(f){var D=f.ye,x=f.mo;f=f.da;var H=0;if(D>=0){if(D==0)D=1;H=Math.floor(D/400)*146097;var u=parseInt(this.getDaysInYearSpan(D-D%400,D));D=parseInt(this.getDaysSoFar(x,D));H=H+
u+D+f-366}else if(D<0)H=this.getBCRataDie({ye:D,mo:x,da:f});return H},getBCRataDie:function(f){var D=f.ye,x=f.mo;f=f.da;if(x==0)x=1;if(f==0)f=1;return-1*((Math.abs(D)-1)*366+[0,335,306,275,245,214,184,153,122,92,61,31,0][x]+(this.monthsDayNums[x]-f+1))},getDateFromRD:function(f){for(var D=Math.floor(f),x=Math.floor(D/146097)*400,H=D-Math.floor(D/146097)*146097,u=1,m=x+1,z=m+400;m<=z;m++)if(H>365){H-=365;if(this.isLeapYear(m))H-=1;u++}else m=z;x+=u;if(H==0)H=1;H=this.getMonthFromRemDays(H,x);D=(f-
D)*1440;f=Math.floor(D%60);D=Math.floor(D/60);if(this.isLeapYear(x)&&H.mo==2)H.da+=1;return{ye:x,mo:H.mo,da:H.da,ho:D,mi:f}},getDateFromSec:function(f){return this.getDateFromRD(f/86400)},getMonthFromRemDays:function(f,D){var x=0;var H=x=0;x=this.isLeapYear(D)?1:0;if(f<=31){H=1;x=f}else if(f>31&&f<=59+x){H=2;x=f-(31+x)}else if(f>59+x&&f<=90+x){H=3;x=f-(59+x)}else if(f>90+x&&f<=120+x){H=4;x=f-(90+x)}else if(f>120+x&&f<=151+x){H=5;x=f-(120+x)}else if(f>151+x&&f<=181+x){H=6;x=f-(151+x)}else if(f>181+
x&&f<=212+x){H=7;x=f-(181+x)}else if(f>212+x&&f<=243+x){H=8;x=f-(212+x)}else if(f>243+x&&f<=273+x){H=9;x=f-(243+x)}else if(f>273+x&&f<=304+x){H=10;x=f-(273+x)}else if(f>304+x&&f<=334+x){H=11;x=f-(304+x)}else{H=12;x=f-(334+x)}return{mo:H,da:x}},getDaysInYearSpan:function(f,D){for(var x=0,H=f;H<D;H++)x+=this.isLeapYear(H)?366:365;return x},getDaysSoFar:function(f,D){var x;switch(f){case 1:x=0;break;case 2:x=31;break;case 3:x=59;break;case 4:x=90;break;case 5:x=120;break;case 6:x=151;break;case 7:x=
181;break;case 8:x=212;break;case 9:x=243;break;case 10:x=273;break;case 11:x=304;break;case 12:x=334}if(f>2&&this.isLeapYear(D))x+=1;return x},getToday:function(){var f=jQuery.format(new Date,"S");return f=f.replace("T"," ")}};(function(f){f.levelHeight=8;var D=f.levelHeight;f.TGOrg=function(){this.blocks=[];this.ids=[];this.vis=[];this.tree=[];var x=this;this.addBlock=function(m,z){m.right=m.left+m.width;m.bottom=m.top+m.height;m.tickScope=z;x.blocks.push(m)};this.getBorg=function(){return this};this.getBlocks=function(){return this.blocks};this.getHTML=function(m){if(m=="sweep"){x.tree=[];for(var z=0;z<300;z++)x.tree[z]=[];this.vis=[]}this.blocks.sort(H);for(var v,I="",M="",A={},J=this.blocks.length,R=0,j=0;j<J;j++){A=
this.blocks[j];if(A.tickScope==m)if(jQuery.inArray(A.id,this.vis)==-1){this.vis.push(A.id);R=0;if(A.image){if(A.image_class=="layout")R=A.image_size.height+4;I="<div class='timeglider-event-image-"+A.image_class+"'><img src='"+A.image+"'></div>"}else I="";u(A,0);A.fontsize<10?A.opacity=A.fontsize/10:A.opacity=1;if(A.span==true){z="timeglider-event-spanning";v="<div class='timeglider-event-spanner' style='height:"+A.fontsize+"px;width:"+A.spanwidth+"px'></div>"}else v=z="";M+="<div class='timeglider-timeline-event "+
z+"' id='ev_"+A.id+"' style='width:"+A.width+"px;height:"+A.height+"px;left:"+A.left+"px;opacity:"+A.opacity+";top:"+A.top+"px;font-size:"+A.fontsize+"px;'><img class='timeglider-event-icon' src='"+A.icon+"' style='height:"+A.fontsize+"px;left:-"+(A.fontsize+2)+"px; top:"+R+"px'>"+I+v+"<div class='timeglider-event-title' style='top:"+R+"px'>"+A.title+"</div></div>"}}return M};var H=function(m,z){var v=z.importance,I=m.importance;return v<I?-1:v>I?1:0},u=function(m,z){var v=false,I=x.tree,M=I[z],A=
z+1,J=false,R=2;bump_ht=D;if(M!=undefined){for(R=0;R<M.length;R++){a:{v=M[R];if(!(m.left>v.right||m.right<v.left))if(m.left>=v.left&&m.left<=v.right||m.right>=v.left&&m.right<=v.right||m.right>=v.right&&m.left<=v.left||m.right<=v.right&&m.left>=v.left)if(m.bottom<=v.bottom&&m.bottom>=v.top||m.top<=v.bottom&&m.top>=v.top||m.top==v.bottom&&m.top==v.top){v=true;break a}v=false}if(v==true){m.top-=bump_ht;m.bottom-=bump_ht;u(m,A);J=true;break}}if(J==false){m.top-=m.fontsize;M.push(m);R=Math.ceil(m.height/
D);M=0;for(M=1;M<=R;M++){A=z+M;I[A].push(m)}}}}}})(timeglider);(function(f){var D=f.TGDate,x=jQuery;f.Timeline=Backbone.Model.extend({defaults:{title:"Untitled",events:[]},_chewTimeline:function(H){var u=H.mediator,m={da:[],mo:[],ye:[],de:[],ce:[],thou:[],tenthou:[],hundredthou:[],mill:[],tenmill:[],hundredmill:[],bill:[]},z=D.units;H.startSeconds=[];H.endSeconds=[];H.spans=[];if(!H.color)H.color="#333333";if(H.events){for(var v,I,M,A,J=H.events.length,R=0;R<J;R++){v=H.events[R];if(v.id)I=v.id;else v.id=I="anon"+this.anonEventId++;M=D.validateEventDates(v.startdate,
v.enddate);v.startdateObj=M.s;v.enddateObj=M.e;v.icon=u.options.icon_folder+(v.icon||"triangle_orange.png");v.titleWidth=f.getStringWidth(v.title)+20;if(v.image)if(!v.image_class){v.image_class="layout";v.image_size=f.getImageSize(v.image)}H.startSeconds.push(v.startdateObj.sec);H.endSeconds.push(v.enddateObj.sec);if(v.enddateObj.sec>v.startdateObj.sec){v.span=true;H.spans.push({id:v.id,start:v.startdateObj.sec,end:v.enddateObj.sec})}else v.span=false;for(var j=z.length,w=0;w<j;w++){M=z[w];A=D.getTimeUnitSerial(v.startdateObj,
M);if(m[M][A]!==undefined)m[M][A].push(I);else m[M][A]=[I]}u.eventPool["ev_"+I]=v}u=x.merge(H.startSeconds,H.endSeconds);u=timeglider.getLowHigh(u);H.bounds={first:u.low,last:u.high}}H.display="expanded";H.dateHash=m;delete H.events;return H},initialize:function(H){this.set(this._chewTimeline(H))},validate:function(){}})})(timeglider);(function(f){var D=f.TGDate,x,H,u=jQuery;f.TimegliderTimelineView=function(m,z){var v="#"+m._id,I=m._id,M=u(v).height(),A=this;x=z;H=x.options;this._views={PLACE:v,CONTAINER:v+" .timeglider-container",TIMELINE_MENU:v+" .timeglider-timeline-menu",TIMELINE_MENU_UL:v+" .timeglider-timeline-menu ul",TIMELINE_LIST_BT:v+" .timeglider-list-bt",SLIDER_CONTAINER:v+" .timeglider-slider-container",SLIDER:v+" .timeglider-slider",ZOOM_DISPLAY:v+" .timeglider-zoomlevel-display",TRUCK:v+" .timeglider-truck",CENTERLINE:v+
" .timeglider-centerline",TICKS:v+" .timeglider-ticks",HANDLE:v+" .timeglider-handle",FOOTER:v+" .timeglider-footer",FILTER_BT:v+" .timeglider-filter-bt",FILTER_BOX:v+" .timeglider-filter-box",TOOLS_BT:v+" .timeglider-tools-bt"};this._templates={event_modal:u.template(null,"<div class='tg-modal timeglider-ev-modal ui-widget-content' id='ev_${id}_modal'><div class='close-button-remove'><img src='img/close.png'></div><div class='startdate'>${startdate}</div><h4 id='title'>${title}</h4><p>{{html description}}</p><ul class='timeglider-ev-modal-links'><li><a target='_blank' href='${link}'>link</a></li></ul></div>"),
event_modal_video:u.template(null,"<div class='tg-modal timeglider-ev-video-modal ui-widget-content' id='${id}_modal'><div class='close-button-remove'><img src='img/close.png'></div><iframe width = '100%' height='300' src='${video}'></iframe></div>"),timeline_modal:u.template(null,"<div class='tg-modal timeglider-timeline-modal ui-widget-content' id='tl_${id}_modal'><div class='close-button-remove'><img src='img/close.png'></div><h4 id='title'>${title}</h4><p>{{html description}}</p></div>"),filter_modal:u.template(null,
"<div class='tg-modal timeglider-menu-modal timeglider-filter-box timeglider-menu-hidden'><div class='close-button'><img src='img/close.png'></div><h3>filter</h3><div class='timeglider-menu-modal-content'><div class='timeglider-formline'>show: <input type='text' class='timeglider-filter-include'></div><div class='timeglider-formline'>hide: <input type='text' class='timeglider-filter-exclude'></div><ul><li class='timeglider-filter-clear'>clear</li><li class='timeglider-filter-apply'>apply</li></ul></div><div class='timeglider-menu-modal-point-right'></div>"),
timeline_list_modal:u.template(null,"<div class='timeglider-menu-modal timeglider-timeline-menu timeglider-menu-hidden'><div class='close-button'><img src='img/close.png'></div><h3>timelines</h3><div class='timeglider-menu-modal-content'><ul></ul></div><div class='timeglider-menu-modal-point-right'></div>")};u(this._views.CONTAINER).css("height",M);this.basicFontSize=H.basic_fontsize;H.show_footer==false&&u(this._views.FOOTER).css("display","none");this.dragSpeed=0;this.dimensions=this.getWidgetDimensions();
this.ticksHandleOffset=this.rightside=this.leftside=this.tickNum=0;this.timeoout_id=1;this.timelineMenuOpen=this.sliderActive=false;this.ztop=1E3;this.filterBoxActivated=false;this.buildSlider();this.setupFilter();this.castTicks();u.subscribe("mediator.ticksOffsetChange",function(){A.tickHangies();A.registerTitles();A.registerDragging()});u.subscribe("mediator.zoomLevelChange",function(){A.tickNum=0;A.leftside=0;var J=x.getZoomLevel();u(A._views.SLIDER).slider("value",A.invSliderVal(J));A.displayZoomLevel(J);
A.castTicks()});u.subscribe("mediator.ticksReadySignal",function(){x.getTicksReady()===true&&A.freshTimelines()});u.subscribe("mediator.refreshSignal",function(){A.castTicks()});u.subscribe("mediator.ticksArrayChange",function(){});u.subscribe("mediator.focusDateChange",function(){});u.subscribe("mediator.timelineListChangeSignal",function(){A.buildTimelineMenu()});u.subscribe("mediator.activeTimelinesChange",function(){u(A._views.TIMELINE_MENU_UL+" li").each(function(){var J=u(this).attr("id");u.inArray(J,
x._activeTimelines)!=-1?u(this).addClass("activeTimeline"):u(this).removeClass("activeTimeline")})});u.subscribe("mediator.filterObjectChange",function(){});u(this._views.TRUCK).dblclick(function(J){var R=J.pageX-A.dimensions.container.offset.left-A.dimensions.container.width/2,j=x.getZoomInfo().spp;J=x.getFocusDate().sec;R=D.getDateFromSec(Math.floor(J+R*j));J=D.getDateFromSec(J);debug.trace("DBLCLICK:"+J.mo+"-"+J.ye+" dblclick:"+R.mo+"-"+R.ye,"note")}).bind("mousewheel",function(J,R){var j=Math.ceil(-1*
R*3),w=x.getZoomLevel();x.setZoomLevel(w+j);return false});u(this._views.TICKS).draggable({axis:"x",drag:function(){x.setTicksOffset(u(this).position().left)},stop:function(){A.resetTicksHandle();A.easeOutTicks();A.registerDragging()}}).delegate(".timeglider-timeline-event","click",function(){var J=u(this).attr("id");A.eventModal(J)}).delegate(".timeglider-timeline-event","hover",function(){var J=u(this).attr("id");debug.trace("hover, title:"+x.eventPool[J].title,"note")}).delegate(".timeglider-event-collapsed",
"hover",function(){var J=u(this).attr("id");debug.trace("collapsed, title:"+x.eventPool[J].title,"note")});u(".close-button-remove").live("click",function(){u(this).parent().remove()});u.tmpl(A._templates.timeline_list_modal,{}).appendTo(this._views.CONTAINER);u(A._views.TIMELINE_LIST_BT).click(function(){u(A._views.TIMELINE_MENU).toggleClass("timeglider-menu-hidden").position({my:"right bottom",at:"right top",of:u(A._views.TIMELINE_LIST_BT),offset:"-8, -12"})});u(this._views.TIMELINE_MENU+" .close-button").live("click",
function(){u(A._views.TIMELINE_MENU).toggleClass("timeglider-menu-hidden")});u(this._views.TOOLS_BT).click(function(){alert("I'm just a stand-in for the tools... ")});x.options.show_centerline===true?u(this._views.CENTERLINE).css({height:A.dimensions.container.height,left:A.dimensions.container.centerx}):u(this._views.CENTERLINE).css({display:"none"});if(u.support.touch){u("#"+I).addTouch();v=document.getElementById(I);v.addEventListener("gesturestart",function(J){J.preventDefault();debug.trace("gesture zoom:"+
x.getZoomLevel(),"note")},false);v.addEventListener("gesturechange",function(J){J.preventDefault();debug.trace("gesture change!!!!","note")},false)}};f.TimegliderTimelineView.prototype={getWidgetDimensions:function(){var m=u(this._views.CONTAINER),z=m.width(),v=Math.floor(z/2)+1,I=m.height(),M=Math.floor(I/2),A=m.position().left;m=m.offset();var J=H.show_footer==true?u(this._views.FOOTER).height():0;return{container:{width:z,height:I,centerx:v,centery:M,left:A,offset:m},tick:{top:I-J-30},footer:{height:J}}},
scaleToImportance:function(m,z){return m/z},displayZoomLevel:function(m){H.display_zoom_level==true&&u(this._views.ZOOM_DISPLAY).text(m)},invSliderVal:function(m){return Math.abs(m-101)},registerTitles:function(){var m,z,v,I,M,A,J,R,j,w,N,O=u(this._views.CONTAINER).offset().left;u(".timeglider-event-spanning").each(function(){m=u(this).offset().left-O;z=u(this).outerWidth();J=u(".timeglider-event-title",this);v=J.outerWidth()+5;I=J.siblings(".timeglider-event-spanner").outerWidth();I>v&&m<0&&Math.abs(m)<
z-v&&J.css({marginLeft:-1*m+5})});u(".tg-timeline-envelope").each(function(){R=u(this).offset().left-O;j=u(".titleBar",this);w=u(".titleBar .timeline-title",this);M=j.position().left;N=M+R;j.outerWidth();v=j.outerWidth();A=-1*N;N<0&&w.css({marginLeft:A+5})})},registerDragging:function(){var m=x._startSec,z=u(this._views.TICKS).position().left,v=x.getZoomInfo().spp;m=D.getDateFromSec(m-z*v);debug.trace("ticks x:"+z,"tickpos");debug.trace("FD: "+D.formatFocusDate(m),"focusdate");x.setFocusDate(m)},
buildTimelineMenu:function(){var m,z=x.timelinePool,v=0;u(this._views.TIMELINE_MENU_UL+" li").remove();for(m in z){if(z.hasOwnProperty(m)){var I=z[m];u(this._views.TIMELINE_MENU_UL).append("<li class = 'timelineList' id='"+m+"'>"+I.title+"</li>");u("li#"+m).click(function(){x.toggleTimeline(u(this).attr("id"))})}v++}},buildSlider:function(){var m=x.getZoomLevel();if(H.min_zoom==H.max_zoom)u(this._views.SLIDER_CONTAINER).css("display","none");else{H.display_zoom_level==true&&u("<div>").appendTo(this._views.SLIDER_CONTAINER).addClass("timeglider-zoomlevel-display").text(m);
var z=this;m=z.invSliderVal(m);var v=x.max_zoom,I=x.min_zoom;u(this._views.SLIDER).css("height",(1+v-I)*3).slider({steps:100,handle:u(".knob"),animate:300,orientation:"vertical",min:z.invSliderVal(v),max:z.invSliderVal(I),value:m,start:function(){z.sliderActive=true},stop:function(){z.sliderActive=false},change:function(){},slide:function(M,A){x.setZoomLevel(z.invSliderVal(A.value))}})}},setupFilter:function(){var m=this;u.tmpl(m._templates.filter_modal,{}).appendTo(m._views.CONTAINER);u(m._views.FILTER_BT).click(function(){var z=
u(this),v=m._views.FILTER_BOX;if(m.filterBoxActivated==false){m.filterBoxActivated=true;var I=u(v+" .timeglider-filter-apply"),M=u(".timeglider-filter-box .close-button"),A=u(v+" .timeglider-filter-clear"),J="",R="";I.click(function(){J=u(v+" .timeglider-filter-include").val();R=u(v+" .timeglider-filter-exclude").val();x.setFilterObject({include:J,exclude:R});u(v).toggleClass("timeglider-menu-shown")});M.click(function(){u(v).toggleClass("timeglider-menu-hidden")});A.click(function(){x.setFilterObject({include:"",
exclude:""});u(v+" .timeglider-filter-include").val("");u(v+" .timeglider-filter-exclude").val("");u(v).toggleClass("timeglider-menu-shown")})}u(v).toggleClass("timeglider-menu-hidden").css("z-index",m.ztop++).position({my:"right bottom",at:"right top",of:z,offset:"-8, -12"})})},clearTicks:function(){this.tickNum=0;u(this._views.TICKS).css("left",0).html("<div class='timeglider-handle'></div>")},castTicks:function(){x.getZoomLevel();var m=x.getFocusDate(),z=x.getZoomInfo().width;z=Math.ceil(this.dimensions.container.width/
z)+4;var v="l";this.clearTicks();x.setTicksReady(false);this.addTick({type:"init",focus_date:m});for(m=1;m<=z;m+=1){this.addTick({type:v});v=v=="l"?"r":"l"}x.setTicksReady(true)},addTick:function(m){var z=0,v=0,I=v=0,M=0,A=0,J="";A={};I={};var R={},j={};A={};R=x.getZoomInfo().unit;j=x.getZoomInfo().width;M=x.getFocusDate();I=parseInt(this.dimensions.tick.top);M=x.addToTicksArray({type:m.type,unit:R},M);if(R=="mo"){A=D.getMonthAdj(M,j);j=A.width;z=A.days}this.tickNum++;if(m.type=="init"){A=this.tickOffsetFromDate(x.getZoomInfo(),
x.getFocusDate(),j);this.leftside=v=Math.ceil(this.dimensions.container.centerx+A);this.rightside=v+j}else if(m.type=="l")this.leftside=v=Math.floor(this.leftside-j);else if(m.type=="r"){v=Math.floor(this.rightside);this.rightside+=j}x.getTickBySerial(M).width=j;x.getTickBySerial(M).left=v;J=this._views.PLACE+"_"+R+"_"+M+"-"+this.tickNum;A=u("<div class='timeglider-tick' id='"+J+"'><div class='timeglider-tick-label' id='label'></div></div>").appendTo(this._views.TICKS);A.css({width:j,left:v,top:I});
I=this.getTickMarksInfo({unit:R,width:j});I=z>0?z:I.tperu;v=j/I;if(v>5){m=Raphael(J,j,30);var w="";for(z=0;z<I;++z){J=z*v;w+="M"+J+" 20 L"+J+" 30"}m.path(w).attr({stroke:"#333","stroke-width":1})}R={unit:R,width:j,serial:M};j=this.getDateLabelForTick(R);A.children("#label").text(j);return R},getTickMarksInfo:function(m){switch(m.unit){case "da":m=24;break;case "mo":m=30;break;case "ye":m=12;break;default:m=10}return{tperu:m}},getDateLabelForTick:function(m){switch(m.unit){case "bill":if(m.serial==
1)return"1";return m.serial-1+" bya";case "hundredmill":if(m.serial==1)return"1";return(m.serial-1)*100+" mya";case "tenmill":if(m.serial==1)return"1";return(m.serial-1)*10+" mya";case "mill":if(m.serial==1)return"1";return m.serial-1+" mya";case "hundredthou":if(m.serial==1)return"1";return m.serial-1+"00,000";case "tenthou":if(m.serial==1)return"1";return m.serial-1+"0000";case "thou":if(m.serial==1)return"1";return m.serial-1+"000";case "ce":if(m.serial==1)return"1";return m.serial-1+"00";case "de":return(m.serial-
1)*10+"s";case "ye":return m.serial;case "mo":m=D.getDateFromMonthNum(m.serial);return D.monthNamesFull[m.mo]+", "+m.ye;case "da":m=D.getDateFromRD(m.serial);return D.monthNamesAbbr[m.mo]+" "+m.da+", "+m.ye;default:return m.unit+":"+m.serial+":"+m.width}},tickHangies:function(){var m=u(this._views.TICKS).position().left,z=this.rightside+m-this.dimensions.container.width;if(this.leftside+m>-100){m=this.addTick({type:"l"});this.appendTimelines(m)}else if(z<100){m=this.addTick({type:"r"});this.appendTimelines(m)}},
tickOffsetFromDate:function(m,z,v){switch(m.unit){case "da":z=z.ho/24+z.mi/1440;v*=z;break;case "mo":m=D.getMonthDays(z.mo,z.ye);z=(z.da-1)/m+z.ho/(24*m)+z.mi/(1440*m);v*=z;break;case "ye":z=((z.mo-1)*30+z.da)/365;v*=z;break;case "de":z=z.ye%10/10+z.mo/120;v*=z;break;case "ce":z=z.ye%100/100+z.mo/1200;v*=z;break;case "thou":z=z.ye%1E3/1E3;v*=z;break;case "tenthou":z=z.ye%1E4/1E4;v*=z;break;case "hundredthou":z=z.ye%1E5/1E5;v*=z;break;default:v=0}return-1*v},resetTicksHandle:function(){u(this._views.HANDLE).offset({left:u(this._views.CONTAINER).offset().left})},
easeOutTicks:function(){Math.abs(this.dragSpeed)>5&&debug.trace("ticks stopped!","note")},getTimelineEventsByTick:function(m){var z=m.tick.unit,v=m.tick.serial;m=m.timeline.dateHash;return m[z][v]&&m[z][v].length>0?m[z][v]:0},setTimelineProp:function(m,z,v){x.timelinePool[m][z]=v},passesFilters:function(m,z){var v=true,I="",M=[],A;I="";M=[];if(z<m.low_threshold||z>m.high_threshold)return false;if(I=x.filterObject.include){M=I.split(",");v=false;for(A=0;A<M.length;A++){I=RegExp(u.trim(M[A]),"i");if(m.title.match(I))v=
true}}if(I=x.filterObject.exclude){M=I.split(",");for(A=0;A<M.length;A++){I=RegExp(u.trim(M[A]),"i");if(m.title.match(I))v=false}}return v},freshTimelines:function(){var m,z,v,I,M=x._activeTimelines,A=x._ticksArray,J="",R,j=this,w="",N=0,O=j.dimensions.container.centerx,ca=j.dimensions.container.width,da=x.getFocusDate().sec,y=x.getZoomInfo().spp,ha=x.getZoomInfo().level;m=[];var ja=[];ca=da-Math.floor(y*(ca/2));var B;v=0;for(var l=j.dimensions.container.height,s=0;s<M.length;s++){z=x.timelinePool[M[s]];
B=z.display;v=z.top||l-120;$tl=u("<div class='tg-timeline-envelope' id='"+z.id+"'><div class='titleBar'><div class='timeline-title'>"+z.title+"<div class='tg-timeline-env-buttons'><span class='timeline-info'>info</span><span class='expand-collapse'>expand/collapse</span></div></div></div></div>").appendTo(this._views.TICKS);$tl.draggable({axis:"y",handle:".titleBar",stop:function(){j.setTimelineProp(z.id,"top",u(this).css("top"))}}).css("top",v);v=$tl.height();u(".tg-timeline-envelope#"+z.id+" .titleBar .expand-collapse").click(function(){j.expandCollapseTimeline(z.id)});
u(".tg-timeline-envelope#"+z.id+" .titleBar .timeline-info").click(function(){j.timelineModal(z.id)});R=$tl.children(".titleBar");m=O+(z.bounds.first-da)/y;I=O+(z.bounds.last-da)/y;R.css({top:v,left:m,width:I-m});if(B=="expanded")J=new timeglider.TGOrg;for(I=0;I<A.length;I++){m=this.getTimelineEventsByTick({tick:A[I],timeline:z});u.merge(ja,m)}for(I=0;I<z.spans.length;I++){m=z.spans[I];m.start<ca&&m.end>ca&&u.inArray(m.id,ja)==-1&&ja.unshift(m.id)}for(m=0;m<ja.length;m++){I=x.eventPool["ev_"+ja[m]];
if(this.passesFilters(I,ha)==true){N=O+(I.startdateObj.sec-da)/y;R=this.scaleToImportance(I.importance,ha);if(B=="expanded"){I.width=I.titleWidth*R+18;if(I.span==true){I.spanwidth=(I.enddateObj.sec-I.startdateObj.sec)/y;if(I.spanwidth>I.width)I.width=I.spanwidth}else I.spanwidth=0;I.fontsize=this.basicFontSize*R;I.left=N;R=0;if(I.image&&I.image_class=="layout"){R=I.image_size.height+2;I.width=I.image_size.width+2}I.height=Math.ceil(I.fontsize)+R;I.top=v-I.height;J.addBlock(I,"sweep")}else if(B=="collapsed")w+=
"<div id='ev_"+I.id+"' class='timeglider-event-collapsed' style='top:"+(v-2)+"px;left:"+N+"px'></div>"}}if(B=="expanded"){w=J.getHTML("sweep");z.borg=J.getBorg()}w!="undefined"&&$tl.append(w);u(".timeglider-event-image-bar").each(function(){u(this).position({my:"top",at:"bottom",of:$tl,offset:"0, 0"}).css("left",0)})}j.registerTitles()},appendTimelines:function(m){for(var z=x._activeTimelines,v=this.dimensions.container.centerx,I,M,A,J,R,j,w,N,O=x._startSec,ca=x.getZoomInfo().spp,da=x.getZoomInfo().level,
y=0;y<z.length;y++){I=x.timelinePool[z[y]];j=I.borg;$tl=u(".tg-timeline-envelope#"+I.id);R=$tl.height();idArr=this.getTimelineEventsByTick({tick:m,timeline:I});N=idArr.length;J=I.display;w="";for(i=0;i<N;i++){M=x.eventPool["ev_"+idArr[i]];A=v+(M.startdateObj.sec-O)/ca;if(this.passesFilters(M,da)==true)if(J=="expanded"){M.left=A;A=this.scaleToImportance(M.importance,da);M.fontsize=this.basicFontSize*A;M.width=M.titleWidth*A+18;if(M.span==true){M.spanwidth=(M.enddateObj.sec-M.startdateObj.sec)/ca;if(M.spanwidth>
M.width)M.width=M.spanwidth}else M.spanwidth=0;M.top=R-timeglider.levelHeight;M.height=18;j.addBlock(M,m.serial)}else if(J=="collapsed")w+="<div id='ev_"+M.id+"' class='timeglider-event-collapsed' style='top:"+(R-2)+"px;left:"+A+"px'></div>"}if(J=="expanded"){I.borg=j.getBorg();w=j.getHTML(m.serial)}$tl.append(w)}},expandCollapseTimeline:function(m){m=x.timelinePool[m];m.display=m.display=="expanded"?"collapsed":"expanded";x.refresh()},timelineModal:function(m){u("#tl_"+m+"_modal").remove();var z=
x.timelinePool[m];templ_obj={title:z.title,description:z.description,id:m};u.tmpl(this._templates.timeline_modal,templ_obj).appendTo(this._views.CONTAINER).css("z-index",this.ztop++).position({my:"left top",at:"left top",of:this._views.CONTAINER,offset:"32, 32",collision:"fit fit"}).draggable({stack:".timeglider-modal"})},eventModal:function(m){u("#ev_"+m+"_modal").remove();var z=u("#"+m),v=this._templates.event_modal;ev=x.eventPool[m];ev_img=ev.image?"<img src='"+ev.image+"'>":"";templ_obj={title:ev.title,
description:ev_img+ev.description,id:m,startdate:ev.startdate,link:ev.link,video:ev.video};if(ev.video){v=this._templates.event_modal_video;templ_obj.video=ev.video}u.tmpl(v,templ_obj).appendTo(this._views.TICKS).css("z-index",this.ztop++).position({my:"right center",at:"left top",of:z,offset:"0, -12",collision:"fit fit"}).draggable({stack:".timeglider-modal"})},parseHTMLTable:function(m){var z={},v=+new Date,I=[];u("#"+m).find("tr").each(function(M){var A=u(this).children(),J;if(M===0)I=A.map(function(){return u(this).attr("class").replace(/^.*?\btg-(\S+)\b.*?$/,
"$1")}).get();else{J={};A.each(function(R){J[I[R]]=u(this).text()});z["prefix"+v++]=J}});return z}};f.zoomTree=[{},{unit:"da",width:35E3,level:1,label:"5 hours"},{unit:"da",width:17600,level:2,label:"7 hours"},{unit:"da",width:8800,level:3,label:"10 hours"},{unit:"da",width:4400,level:4,label:"12 hours"},{unit:"da",width:2200,level:5,label:"14 hours"},{unit:"da",width:1100,level:6,label:"17 hours"},{unit:"da",width:550,level:7,label:"22 hours"},{unit:"da",width:432,level:8,label:"1 DAY"},{unit:"da",
width:343,level:9,label:"1.5 days"},{unit:"da",width:272,level:10,label:"2 days"},{unit:"da",width:216,level:11,label:"2.5 days"},{unit:"da",width:171,level:12,label:"3 days"},{unit:"da",width:136,level:13,label:"3.5 days"},{unit:"da",width:108,level:14,label:"4 days"},{unit:"mo",width:2509,level:15,label:"6 days"},{unit:"mo",width:1945,level:16,label:"1 WEEK"},{unit:"mo",width:1508,level:17,label:"10 days"},{unit:"mo",width:1169,level:18,label:"2 weeks"},{unit:"mo",width:913,level:19,label:"2.5 weeks"},
{unit:"mo",width:719,level:20,label:"3 weeks"},{unit:"mo",width:566,level:21,label:"3.5 weeks"},{unit:"mo",width:453,level:22,label:"1 MONTH"},{unit:"mo",width:362,level:23,label:"5.5 weeks"},{unit:"mo",width:290,level:24,label:"7 weeks"},{unit:"mo",width:232,level:25,label:"2 months"},{unit:"mo",width:186,level:26,label:"2.5 months"},{unit:"mo",width:148,level:27,label:"3 months"},{unit:"mo",width:119,level:28,label:"4 months"},{unit:"mo",width:95,level:29,label:"5 months"},{unit:"mo",width:76,level:30,
label:"6 months"},{unit:"ye",width:723,level:31,label:"9 months"},{unit:"ye",width:573,level:32,label:"1 YEAR"},{unit:"ye",width:455,level:33,label:"1.25 years"},{unit:"ye",width:361,level:34,label:"1.5 years"},{unit:"ye",width:286,level:35,label:"2 years"},{unit:"ye",width:227,level:36,label:"2.5 years"},{unit:"ye",width:179,level:37,label:"3 years"},{unit:"ye",width:142,level:38,label:"4 years"},{unit:"ye",width:113,level:39,label:"5 years"},{unit:"ye",width:89,level:40,label:"6 years"},{unit:"de",
width:705,level:41,label:"8 years"},{unit:"de",width:559,level:42,label:"10 years"},{unit:"de",width:443,level:43,label:"13 years"},{unit:"de",width:302,level:44,label:"16 years"},{unit:"de",width:240,level:45,label:"20 years"},{unit:"de",width:190,level:46,label:"25 years"},{unit:"de",width:150,level:47,label:"30 years"},{unit:"de",width:120,level:48,label:"40 years"},{unit:"de",width:95,level:49,label:"50 years"},{unit:"de",width:76,level:50,label:"65 years"},{unit:"ce",width:600,level:51,label:"80 years"},
{unit:"ce",width:480,level:52,label:"100 years"},{unit:"ce",width:381,level:53,label:"130 years"},{unit:"ce",width:302,level:54,label:"160 years"},{unit:"ce",width:240,level:55,label:"200 years"},{unit:"ce",width:190,level:56,label:"250 years"},{unit:"ce",width:150,level:57,label:"300 years"},{unit:"ce",width:120,level:58,label:"400 years"},{unit:"ce",width:95,level:59,label:"500 years"},{unit:"ce",width:76,level:60,label:"600 years"},{unit:"thou",width:603,level:61,label:"1000 years"},{unit:"thou",
width:478,level:62,label:"1200 years"},{unit:"thou",width:379,level:63,label:"1800 years"},{unit:"thou",width:301,level:64,label:"160 years"},{unit:"thou",width:239,level:65,label:"xxx years"},{unit:"thou",width:190,level:66,label:"xxx years"},{unit:"thou",width:150,level:67,label:"xxx years"},{unit:"thou",width:120,level:68,label:"xxx years"},{unit:"thou",width:95,level:69,label:"8,000 years"},{unit:"thou",width:76,level:70,label:"10,000 years"},{unit:"tenthou",width:603,level:71,label:"15,000 years"},
{unit:"tenthou",width:358,level:72,label:"20,000 years"},{unit:"tenthou",width:213,level:73,label:"30,000 years"},{unit:"tenthou",width:126,level:74,label:"60,000 years"},{unit:"tenthou",width:76,level:75,label:"100,000 years"},{unit:"hundredthou",width:603,level:76,label:"180,000 years"},{unit:"hundredthou",width:358,level:77,label:"300,000 years"},{unit:"hundredthou",width:213,level:78,label:"500,000 years"},{unit:"hundredthou",width:126,level:79,label:"800,000 years"},{unit:"hundredthou",width:76,
level:80,label:"1 million years"},{unit:"mill",width:603,level:81,label:"1.2 million years"},{unit:"mill",width:358,level:82,label:"2 million years"},{unit:"mill",width:213,level:83,label:"3 million years"},{unit:"mill",width:126,level:84,label:"5 million years"},{unit:"mill",width:76,level:85,label:"10 million years"},{unit:"tenmill",width:603,level:86,label:"15 million years"},{unit:"tenmill",width:358,level:87,label:"30 million years"},{unit:"tenmill",width:213,level:88,label:"50 million years"},
{unit:"tenmill",width:126,level:89,label:"80 million years"},{unit:"tenmill",width:76,level:90,label:"100 million years"},{unit:"hundredmill",width:603,level:91,label:"120 million years"},{unit:"hundredmill",width:358,level:92,label:"200 million years"},{unit:"hundredmill",width:213,level:93,label:"300 million years"},{unit:"hundredmill",width:126,level:94,label:"500 million years"},{unit:"hundredmill",width:76,level:95,label:"1 billion years"},{unit:"bill",width:603,level:96,label:"15 million years"},
{unit:"bill",width:358,level:97,label:"30 million years"},{unit:"bill",width:213,level:98,label:"50 million years"},{unit:"bill",width:126,level:99,label:"80 million years"},{unit:"bill",width:76,level:100,label:"100 billion years"}];f.calculateSecPerPx=function(m){for(var z=1;z<m.length;z++){var v=m[z],I=0;switch(v.unit){case "da":I=86400;break;case "mo":I=2419200;break;case "ye":I=31536E3;break;case "de":I=31536E4;break;case "ce":I=31536E5;break;case "thou":I=31536E6;break;case "tenthou":I=31536E7;
break;case "hundredthou":I=31536E8;break;case "mill":I=31536E9;break;case "tenmill":I=31536E10;break;case "hundredmill":I=31536E11;break;case "bill":I=31536E12}v.spp=I/parseInt(v.width)}}(f.zoomTree)})(timeglider);(function(f){var D=f.TGDate,x={},H=jQuery;f.TimelineCollection=Backbone.Collection.extend({model:timeglider.Timeline});f.TimegliderMediator=function(u){this.options=x=u;this.timelineMenuOpen=false;this.anonEventId=0;this._focusDate={};this._zoomInfo={};this._ticksReady=false;this._ticksArray=[];this._startSec=0;this._activeTimelines=[];this.max_zoom=x.max_zoom;this.min_zoom=x.min_zoom;this.fixed_zoom=this.max_zoom==this.min_zoom?true:false;this.gesturing=false;this.gestureStartZoom=0;this.filterObject=
{};this.eventPool=[];this.timelinePool={};this.setZoomLevel(x.initial_zoom);this.initial_timeline_id=x.initial_timeline_id};f.TimegliderMediator.prototype={loadTimelineData:function(u){var m=this;typeof u==="object"?m.parseData(u):jQuery.getJSON(u,function(z){m.parseData(z)})},parseData:function(u){var m=0,z=u.length,v={};v={};for(var I=0;I<z;I++){v=u[I];v.mediator=this;v=(new timeglider.Timeline(v)).toJSON();v.id.length>0&&m++;this.swallowTimeline(v)}m===0?alert("ERROR loading data: Check JSON with jsonLint"):
this.setInitialTimelines()},swallowTimeline:function(u){this.timelinePool[u.id]=u;H.publish("mediator.timelineListChangeSignal")},setInitialTimelines:function(){debug.log("setInitialTimelines...");var u=this,m=this.initial_timeline_id;m&&setTimeout(function(){u.toggleTimeline(m)},1E3)},refresh:function(){H.publish("mediator.refreshSignal")},setTicksReady:function(u){this._ticksReady=u;u===true&&H.publish("mediator.ticksReadySignal")},getTicksReady:function(){return this._ticksReady},getFocusDate:function(){return this._focusDate},
setFocusDate:function(u){if(u!=this._focusDate){u.mo_num=D.getMonthNum(u);u.rd=D.getRataDie(u);u.sec=D.getSec(u);this._focusDate=u}},getZoomLevel:function(){return Number(this._zoomLevel)},setZoomLevel:function(u){if(isNaN(u)){debug.log("zoom level NaN");return false}if(u<=this.max_zoom&&u>=this.min_zoom){this._startSec=this._focusDate.sec;if(u!=this._zoomLevel){this._zoomLevel=u;this._zoomInfo=timeglider.zoomTree[u];debug.log("publishing zoomLevelChange !!");H.publish("mediator.zoomLevelChange")}}else return false},
getZoomInfo:function(){return this._zoomInfo},setFilterObject:function(u){this.filterObject={include:u.include,exclude:u.exclude};H.publish("mediator.filterObjectChange");this.refresh()},setGestureStart:function(){alert("z:"+this.getZoomLevel());this.gestureStartZoom=this.getZoomLevel()},getTicksOffset:function(){return this._ticksOffset},setTicksOffset:function(u){this._ticksOffset=u;H.publish("mediator.ticksOffsetChange")},getTickBySerial:function(u){for(var m=this._ticksArray,z=m.length,v=0;v<
z;v++){var I=m[v];if(I.serial==u)return I}return false},addToTicksArray:function(u,m){if(u.type=="init"){u.serial=D.getTimeUnitSerial(m,u.unit);this._ticksArray=[u]}else if(u.type=="l"){u.serial=this._ticksArray[0].serial-1;this._ticksArray.unshift(u)}else{u.serial=this._ticksArray[this._ticksArray.length-1].serial+1;this._ticksArray.push(u)}H.publish("mediator.ticksArrayChange");return u.serial},toggleTimeline:function(u){var m=this.timelinePool[u],z=H.inArray(u,this._activeTimelines);if(z==-1){this._activeTimelines.push(u);
this.setFocusDate(D.makeDateObject(m.focus_date));this.setZoomLevel(m.initial_zoom)}else this._activeTimelines.splice(z,1);this.refresh();H.publish("mediator.activeTimelinesChange")}};f.getLowHigh=function(u){var m,z,v=parseFloat(u[0]),I=v;for(m=0;m<u.length;m++){z=parseFloat(u[m]);if(z<I)I=z;if(z>v)v=z}return{high:v,low:I}};f.getStringWidth=function(u){var m=H("#timeglider-measure-span").html("");m.html(u+"");u=m.width()+4;m.html("");return u};f.getImageSize=function(u){var m=H("#timeglider-measure-span").html("");
m.append("<img id='test_img' src='"+u+"'>");u=H("#test_img").width();var z=H("#test_img").height();m.html("");return{width:u,height:z}};f.validateOptions=function(u){this.optionsMaster={initial_focus:{type:"date"},editor:{type:"string"},backgroundColor:{type:"color"},backgroundImage:{type:"color"},min_zoom:{type:"number",min:1,max:100},max_zoom:{type:"number",min:1,max:100},initial_zoom:{type:"number",min:1,max:100},show_centerline:{type:"boolean"},display_zoom_level:{type:"boolean"},data_source:{type:"url"},
basic_fontsize:{type:"number",min:9,max:100},mouse_wheel:{type:"string",possible:["zoom","pan"]},initial_timeline_id:{type:"string"}};var m=this,z="";H.each(u,function(v,I){if(m.optionsMaster[v])switch(m.optionsMaster[v].type){case "string":if(typeof I!="string")z+=v+" needs to be a string.\n";if(m.optionsMaster[v].possible)if(H.inArray(I,m.optionsMaster[v].possible)==-1)z+=v+" must be: "+m.optionsMaster[v].possible.join(" or ");break;case "number":if(typeof I!="number")z+=I+" needs to be a number.\n";
if(m.optionsMaster[v].min)if(I<m.optionsMaster[v].min)z+=v+" must be greater than or equal to "+m.optionsMaster[v].min+"\n";if(m.optionsMaster[v].max)if(I>m.optionsMaster[v].max)z+=v+" must be less than or equal to "+m.optionsMaster[v].max+"\n";break;case "boolean":if(typeof I!="boolean")z+=I+" needs to be a number.\n"}});return z}})(timeglider);(function(f){f.widget("timeglider.timeline",{_tg:this,_element:this.element,options:{initial_focus:timeglider.TGDate.getToday(),editor:"none",min_zoom:1,max_zoom:100,initial_zoom:40,show_centerline:true,data_source:"",basic_fontsize:12,mouse_wheel:"zoom",initial_timeline_id:"",icon_folder:"js/timeglider/icons/",show_footer:true,display_zoom_level:true},_create:function(){this._id=f(this.element).attr("id");this.element.html("<div class='timeglider-container'><div class='timeglider-centerline'></div><div class='timeglider-truck' id='tg-truck'><div class='timeglider-ticks'><div class='timeglider-handle'></div></div></div><div class='timeglider-slider-container'><div class='timeglider-slider'></div></div><div class='timeglider-footer'><div class='timeglider-logo'></div><img class='timeglider-filter-bt' title='filter' src='js/timeglider/buttons/filter.png'><img class='timeglider-tools-bt' title='settings' src='js/timeglider/buttons/tools.png'><img class='timeglider-list-bt' title='timelines' src='js/timeglider/buttons/list.png'></div></div><span id='timeglider-measure-span'></span>")},
_init:function(){var D=timeglider.validateOptions(this.options);if(D==""){D=new timeglider.TimegliderMediator(this.options);D.setFocusDate(timeglider.TGDate.makeDateObject(this.options.initial_focus));new timeglider.TimegliderTimelineView(this,D);D.loadTimelineData(this.options.data_source)}else alert("There's a problem with your widget settings:"+D)},destroy:function(){f.Widget.prototype.destroy.apply(this,arguments)}})})(jQuery);
